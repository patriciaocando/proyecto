{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue","mtime":1596307259896},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKCmltcG9ydCB1c2VycHJvZmlsZSBmcm9tICJAL2NvbXBvbmVudHMvVXNlclByb2ZpbGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9maWxlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZmlsZToge30sCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgdXNlcnByb2ZpbGUsCiAgfSwKCiAgbWV0aG9kczogewogICAgLy9BTEVSVCBERSBFRElUQVIKICAgIHVwZGF0ZVVzZXJBbGVydCh1c2VybmFtZSkgewogICAgICBTd2FsLmZpcmUoewogICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICB0aXRsZTogIkFjdHVhbGl6YWRvIiwKICAgICAgICB0ZXh0OiBgSGFzIGVkaXRhZG8gbG9zIGRhdG9zIGRlICR7dXNlcm5hbWV9IGV4aXRvc2FtZW50ZWAsCiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVVzZXJEYXRhKHsgbmFtZSwgbGFzdG5hbWUsIHVzZXJuYW1lLCBlbWFpbCwgcHJvZmlsZSB9KSB7CiAgICAgIGNvbnNvbGUubG9nKCJEZXNkZSBsYSB2aXN0YSIsIHVzZXJEYXRhKTsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBuYW1lLAogICAgICAgIGxhc3RfbmFtZTogdXNlckRhdGEubGFzdG5hbWUsCiAgICAgICAgdXNlcm5hbWUsCiAgICAgICAgZW1haWwsCiAgICAgICAgcHJvZmlsZV9iaW86IHVzZXJEYXRhLnByb2ZpbGUsCiAgICAgIH07CiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjoKICAgICAgICAgICAgImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwWkNJNk1Td2ljbTlzWlNJNkltRmtiV2x1SWl3aWFXRjBJam94TlRrMk1qY3lOamczTENKbGVIQWlPakUxT1RnNE5qUTJPRGQ5Lm9acmdLdVZPN04zVDJjdDZjajJhcEZvaVZvTC1hUkFWWVNrcHpiUktaMHciLAogICAgICAgIH0sCiAgICAgIH07CgogICAgICBheGlvcwogICAgICAgIC5wdXQoCiAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL2VkaXQtcHJvZmlsZS8iICsgdXNlckRhdGEuaWQsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgY29uZmlnCiAgICAgICAgKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB0aGlzLnVwZGF0ZVVzZXJBbGVydCh1c2VyRGF0YS5uYW1lKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSwgNDAwMCk7CiAgICB9LAogICAgZ2V0VXNlclByb2ZpbGUoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMvcHJvZmlsZS8iICsgMSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOgogICAgICAgICAgICAgICJleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcFpDSTZNU3dpY205c1pTSTZJbUZrYldsdUlpd2lhV0YwSWpveE5UazJNamN5TmpnM0xDSmxlSEFpT2pFMU9UZzROalEyT0RkOS5vWnJnS3VWTzdOM1QyY3Q2Y2oyYXBGb2lWb0wtYVJBVllTa3B6YlJLWjB3IiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgc2VsZi5wcm9maWxlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coc2VsZi5wcm9maWxlKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlclByb2ZpbGUoKTsKICB9LAp9Owo="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <userprofile v-on:iduserupdate=\"updateUserData\" :userdata=\"profile\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\n\nimport userprofile from \"@/components/UserProfile.vue\";\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      profile: {},\n    };\n  },\n  components: {\n    userprofile,\n  },\n\n  methods: {\n    //ALERT DE EDITAR\n    updateUserAlert(username) {\n      Swal.fire({\n        icon: \"success\",\n        title: \"Actualizado\",\n        text: `Has editado los datos de ${username} exitosamente`,\n      });\n    },\n    updateUserData({ name, lastname, username, email, profile }) {\n      console.log(\"Desde la vista\", userData);\n      let self = this;\n      let data = {\n        name,\n        last_name: userData.lastname,\n        username,\n        email,\n        profile_bio: userData.profile,\n      };\n      let config = {\n        headers: {\n          Authorization:\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwiaWF0IjoxNTk2MjcyNjg3LCJleHAiOjE1OTg4NjQ2ODd9.oZrgKuVO7N3T2ct6cj2apFoiVoL-aRAVYSkpzbRKZ0w\",\n        },\n      };\n\n      axios\n        .put(\n          \"http://localhost:3000/users/edit-profile/\" + userData.id,\n          data,\n          config\n        )\n        .then(function(response) {\n          console.log(response);\n        })\n        .catch(function(error) {\n          console.error(error);\n        });\n      this.updateUserAlert(userData.name);\n      setTimeout(function() {\n        location.reload();\n      }, 4000);\n    },\n    getUserProfile() {\n      let self = this;\n      axios\n        .get(\"http://localhost:3000/users/profile/\" + 1, {\n          headers: {\n            Authorization:\n              \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwiaWF0IjoxNTk2MjcyNjg3LCJleHAiOjE1OTg4NjQ2ODd9.oZrgKuVO7N3T2ct6cj2apFoiVoL-aRAVYSkpzbRKZ0w\",\n          },\n        })\n        .then(function(response) {\n          self.profile = response.data.data;\n          console.log(self.profile);\n        })\n        .catch(function(error) {\n          console.error(error);\n        });\n    },\n  },\n  created() {\n    this.getUserProfile();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}