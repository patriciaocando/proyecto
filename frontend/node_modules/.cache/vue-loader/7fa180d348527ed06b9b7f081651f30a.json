{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/BecomeExpert.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/BecomeExpert.vue","mtime":1596569599812},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBsYW5ndWFnZXNzZWxlY3RvciBmcm9tICJAL2NvbXBvbmVudHMvTGFuZ3VhZ2VTZWxlY3Rvci52dWUiOwoKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJlY29tZUV4cGVydCIsCiAgY29tcG9uZW50czogewogICAgbGFuZ3VhZ2Vzc2VsZWN0b3IsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy92YXJpYWJsZXMgZGUgdmlzdGEKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgLy92YXJpYWxlcyBkZSBjb21wb25lbnRlcwogICAgICBjaG9vc2VuTGFuZ3VhZ2VzOiBbXSwKICAgICAgLy9UT0tFTgogICAgICB0b2tlbjogZ2V0QXV0aFRva2VuKCksCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy9UUkFFUiBMT1MgTEVOR1VBR0VTIERFIExBIEJCREQKICAgIGFzeW5jIGdldExhbmd1YWdlcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xhbmd1YWdlcyIpOwogICAgICAgIHRoaXMuY2hvb3Nlbkxhbmd1YWdlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZygiYXJyYXkgcXVlIGVudmlvIGEgY29tcG9uZW50ZSIsIHRoaXMuY2hvb3Nlbkxhbmd1YWdlcyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICB9CiAgICB9LAogICAgLy9UUkFFUiBFTCBMRU5HVUFHRSBFU0NPR0lETyBERUwgQ09NUE9ORU5URS9TRUxFQ1QgTEVOR1VBSkVTCiAgICBnZXRDb21wb25lbnRMYW5ndWFnZShsYW5ndWFnZUlkKSB7CiAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZUlkOwogICAgfSwKICAgIC8vRU5WSUFSIExBIExTT0xJQ1RVRCBBTCBBRE1JTgogICAgYXN5bmMgcG9zdEV4cGVydFJlcXVlc3QoKSB7CiAgICAgIC8vREFUT1MgREVMIFVTVUFSSU8KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgbGFuZ3VhZ2VzOiB0aGlzLmxhbmd1YWdlLAogICAgICB9OwogICAgICAvL0NBQkVDRURBIERFIFVBVE9SSVpBQ0lPTgogICAgICBsZXQgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IHNlbGYudG9rZW4sCiAgICAgICAgfSwKICAgICAgfTsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coImVzdG95IGVudmlhbmRvIHVuIiwgdHlwZW9mIGRhdGEubGFuZ3VhZ2VzLCBkYXRhLmxhbmd1YWdlcyk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy91cGdyYWRlLXVzZXIiLAogICAgICAgICAgZGF0YSwKICAgICAgICAgIGNvbmZpZwogICAgICAgICk7CgogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBhbGVydEZ1bmN0aW9uKAogICAgICAgICAgInN1Y2Nlc3MiLAogICAgICAgICAgIlNvbGljaXR1ZCBlbnZpYWRhIiwKICAgICAgICAgICJFTCBhZG1pbmlzdHJhZG9yIGRlIFR1dG9yc2hpcHMgdGUgcmVzcG9uZGVyw6EgcHJveGltYW1lbnRlIgogICAgICAgICk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICB9CgogICAgICAvKiBhbGVydEZ1bmN0aW9uKAogICAgICAgICJlcnJvciIsCiAgICAgICAgIsK/U2VndXJvIHF1ZSBxdWllcmVzIGNhbmNlbGFyPyIsCiAgICAgICAgIlB1ZWRlcyB2b2x2ZXIgYSBzb2xpY2l0YXIgc2VyIGV4cGVydG8gY3VhbmRvIHRlIHNpZW50YXMgZW1wZXJhZG8iCiAgICAgICk7ICovCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGFuZ3VhZ2VzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["BecomeExpert.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BecomeExpert.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <vue-headful title=\"Experto | HackaClients\" description=\"Solicitar volverse experto\" />\n    <div>\n      <!--DIV PARA COLOCAR LA IMAGEN DE TUTORSHIPS-->\n    </div>\n    <div>\n      <div>\n        <img src alt=\"logo Tutorships\" />\n        <h1>¿Te sientes preparado para ser un experto?</h1>\n        <p>Selecciona uno o varios lenguajes en los que quieres ser experto y envíanos tu solicitud.</p>\n        <languagesselector :languages=\"choosenLanguages\" v-on:languageId=\"getComponentLanguage\" />\n        <p v-show=\"showError\">{{ errorMessage }}</p>\n\n        <button @click=\"postExpertRequest()\">ENNVIAR MI SOLICITUD</button>\n        <button @click=\"cancelRequest()\">Cancelar</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport languagesselector from \"@/components/LanguageSelector.vue\";\n\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nexport default {\n  name: \"BecomeExpert\",\n  components: {\n    languagesselector,\n  },\n  data() {\n    return {\n      //variables de vista\n      errorMessage: \"\",\n      showError: false,\n      //variales de componentes\n      choosenLanguages: [],\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.choosenLanguages = response.data.data;\n        console.log(\"array que envio a componente\", this.choosenLanguages);\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    //TRAER EL LENGUAGE ESCOGIDO DEL COMPONENTE/SELECT LENGUAJES\n    getComponentLanguage(languageId) {\n      this.language = languageId;\n    },\n    //ENVIAR LA LSOLICTUD AL ADMIN\n    async postExpertRequest() {\n      //DATOS DEL USUARIO\n      let data = {\n        languages: this.language,\n      };\n      //CABECEDA DE UATORIZACION\n      let config = {\n        headers: {\n          Authorization: self.token,\n        },\n      };\n\n      try {\n        console.log(\"estoy enviando un\", typeof data.languages, data.languages);\n        const response = await axios.post(\n          \"http://localhost:3000/users/upgrade-user\",\n          data,\n          config\n        );\n\n        console.log(response);\n        alertFunction(\n          \"success\",\n          \"Solicitud enviada\",\n          \"EL administrador de Tutorships te responderá proximamente\"\n        );\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n\n      /* alertFunction(\n        \"error\",\n        \"¿Seguro que quieres cancelar?\",\n        \"Puedes volver a solicitar ser experto cuando te sientas emperado\"\n      ); */\n    },\n  },\n  created() {\n    this.getLanguages();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}