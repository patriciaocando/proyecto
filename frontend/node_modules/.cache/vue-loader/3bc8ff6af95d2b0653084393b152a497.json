{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue","mtime":1599076976592},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyRGF0YSBmcm9tICJAL2RhdGFTdG9yYWdlL3VzZXJEYXRhIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgYXBpIGZyb20gIi4uL2FwaS9hcGkiOwoKaW1wb3J0IHsgYWxlcnRGdW5jdGlvbiB9IGZyb20gIi4uL3V0aWxzL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOZXdRdWVzdGlvbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vdmFyaWFibGVzIGRlIHZpc3RhCiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudDogIiIsCiAgICAgIGxhbmd1YWdlUXVlc3Rpb246ICIiLAogICAgICAvL3ZhcmlhYmxlcyBkZSBnZXN0aW9uIGRlIGVycm9yZXMKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgLy92YXJpYWxlcyBkZSBjb21wb25lbnRlcwogICAgICBsYW5ndWFnZXM6IFtdLAogICAgICAvL1RPS0VOCiAgICAgIHNoYXJlZFN0b3JlOiB1c2VyRGF0YS5zdGF0ZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdG9rZW4oKSB7CiAgICAgIHJldHVybiB0aGlzLnNoYXJlZFN0b3JlLnRva2VuOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vVFJBRVIgTE9TIExFTkdVQUpFUyBERSBMQSBCQkRECiAgICBhc3luYyBnZXRMYW5ndWFnZXMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0TGFuZ3VhZ2VzKCk7CiAgICAgICAgdGhpcy5sYW5ndWFnZXMgPSByZXNwb25zZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCgogICAgLy9QVUJMSUNBUiBMQSBSRVNQVUVTVEEKICAgIGFzeW5jIHBvc3RRdWVzdGlvbigpIHsKICAgICAgLy9SRUNPSk8gTE9TIERBVE9TIFBBUkEgRU5WSUFSIEVOIEVMIEJPRFkKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LAogICAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlUXVlc3Rpb24sCiAgICAgIH07CgogICAgICBpZiAoZGF0YS50aXRsZSA9PT0gIiIgfHwgZGF0YS5jb250ZW50ID09PSAiIiB8fCBkYXRhLmxhbmd1YWdlID09PSAiIikgewogICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAid2FybmluZyIsCiAgICAgICAgICAiQ2FtcG9zIFZhY8Otb3MiLAogICAgICAgICAgIkRlYmVzIGxsZW5hciB0b2RvcyBsb3MgY2FtcG9zIHBhcmEgcHVibGljYXIgdHUgcHJlZ3VudGEiCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkubmV3UXVlc3Rpb24oZGF0YSk7CiAgICAgICAgICAvL0FMRVJUIERFIENSRUFDSU9OIERFIFBSRUdVTlRBCiAgICAgICAgICBhbGVydEZ1bmN0aW9uKAogICAgICAgICAgICAic3VjY2VzcyIsCiAgICAgICAgICAgICJQcmVndW50YSBwdWJsaWNhZGEiLAogICAgICAgICAgICAiU2UgaGEgcHVibGljYWRvIHR1IHByZWd1bnRhIGV4aXRvc2FtZW50ZS4iCiAgICAgICAgICApOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiVXNlclF1ZXN0aW9ucyIgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2FuY2VsUXVlc3Rpb24oKSB7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICLCv0VzdMOhcyBzZWd1cm8/IiwKICAgICAgICB0ZXh0OiAiwr9RdWllcmVzIGNhbmNlbGFyIGVzdGEgcHJlZ3VudGE/IiwKICAgICAgICBpY29uOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAidmFyKC0tYmx1ZSkiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAidmFyKC0tcmVkKSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJTaSwgQ2FuY2VsYXIiLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnRpdGxlID0gIiI7CiAgICAgICAgICB0aGlzLmNvbnRlbnQgPSAiIjsKICAgICAgICAgIHRoaXMubGFuZ3VhZ2VRdWVzdGlvbiA9ICIiOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiRGFzaGJvYXJkIiB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMudGl0bGU7CiAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7CiAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5sYW5ndWFnZVF1ZXN0aW9uOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IHRoaXMuZ2V0TGFuZ3VhZ2VzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["NewQuestion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewQuestion.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <span id=\"sectionTitle\">\n      <h1>Nueva pregunta</h1>\n      <h2>Escoge el lenguaje de programacion y escribe tu pregunta</h2>\n    </span>\n\n    <div class=\"newQuestionContainer\">\n      <h3>TITULO:</h3>\n      <input\n        class=\"titleInput\"\n        type=\"text\"\n        placeholder=\"Escribe el título de tu pregunta\"\n        v-model=\"title\"\n      />\n\n      <h3>LENGUAJE:</h3>\n      <select id=\"aviableLanguages\" v-model=\"languageQuestion\">\n        <option>Selecciona un lenguaje:</option>\n        <option\n          v-for=\"language in languages\"\n          :key=\"language.id\"\n          :value=\"language.language\"\n        >{{ language.language }}</option>\n      </select>\n\n      <p\n        id=\"selectedLanguage\"\n        v-if=\"languageQuestion !== ''\"\n        :class=\"'languageStyle ' + languageQuestion.toLowerCase()\"\n      >{{ languageQuestion }}</p>\n      <h3>Escribe tu pregunta:</h3>\n\n      <textarea name=\"textQuestion\" rows=\"4\" placeholder=\"Haz tu pregunta\" v-model=\"content\"></textarea>\n      <p v-show=\"showError\">{{ errorMessage }}</p>\n      <span class=\"buttonsContainer\">\n        <button @click=\"postQuestion()\">Publicar</button>\n        <button class=\"cancelButton\" @click=\"cancelQuestion()\">Cancelar</button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport userData from \"@/dataStorage/userData\";\nimport Swal from \"sweetalert2\";\nimport api from \"../api/api\";\n\nimport { alertFunction } from \"../utils/helpers\";\n\nexport default {\n  name: \"NewQuestion\",\n  data() {\n    return {\n      //variables de vista\n      title: \"\",\n      content: \"\",\n      languageQuestion: \"\",\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //variales de componentes\n      languages: [],\n      //TOKEN\n      sharedStore: userData.state,\n    };\n  },\n  computed: {\n    token() {\n      return this.sharedStore.token;\n    },\n  },\n  methods: {\n    //TRAER LOS LENGUAJES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await api.getLanguages();\n        this.languages = response;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    //PUBLICAR LA RESPUESTA\n    async postQuestion() {\n      //RECOJO LOS DATOS PARA ENVIAR EN EL BODY\n      let data = {\n        title: this.title,\n        content: this.content,\n        language: this.languageQuestion,\n      };\n\n      if (data.title === \"\" || data.content === \"\" || data.language === \"\") {\n        alertFunction(\n          \"warning\",\n          \"Campos Vacíos\",\n          \"Debes llenar todos los campos para publicar tu pregunta\"\n        );\n      } else {\n        try {\n          const response = await api.newQuestion(data);\n          //ALERT DE CREACION DE PREGUNTA\n          alertFunction(\n            \"success\",\n            \"Pregunta publicada\",\n            \"Se ha publicado tu pregunta exitosamente.\"\n          );\n          this.$router.push({ name: \"UserQuestions\" });\n        } catch (error) {\n          this.showError = true;\n          this.errorMessage = error;\n        }\n      }\n    },\n    cancelQuestion() {\n      Swal.fire({\n        title: \"¿Estás seguro?\",\n        text: \"¿Quieres cancelar esta pregunta?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"var(--blue)\",\n        cancelButtonColor: \"var(--red)\",\n        confirmButtonText: \"Si, Cancelar\",\n      }).then((result) => {\n        if (result.value) {\n          this.title = \"\";\n          this.content = \"\";\n          this.languageQuestion = \"\";\n          this.$router.push({ name: \"Dashboard\" });\n        } else {\n          this.title = this.title;\n          this.content = this.content;\n          this.language = this.languageQuestion;\n        }\n      });\n    },\n  },\n  async created() {\n    await this.getLanguages();\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  text-align: left;\n}\n\n#selectedLanguage {\n  margin-bottom: 1rem;\n}\n.newQuestionContainer {\n  text-align: left;\n  background-color: var(--ligthColor);\n  padding: 2rem;\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n}\n#aviableLanguages {\n  width: 30%;\n  margin-bottom: 0.5rem;\n}\n\n.buttonsContainer {\n  display: flex;\n  justify-content: flex-end;\n}\n\n@media only screen and (min-width: 1200px) {\n  .buttonsContainer {\n    display: flex;\n    justify-content: flex-end;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n</style>\n"]}]}