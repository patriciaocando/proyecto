{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue","mtime":1598269210538},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKCmltcG9ydCB7IGdldEF1dGhUb2tlbiwgZ2V0SWRUb2tlbiwgRU5EUE9JTlQgfSBmcm9tICIuLi91dGlscy9oZWxwZXJzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTmV3UXVlc3Rpb24iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL3ZhcmlhYmxlcyBkZSB2aXN0YQogICAgICB0aXRsZTogIiIsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBsYW5ndWFnZVF1ZXN0aW9uOiAiIiwKICAgICAgLy92YXJpYWJsZXMgZGUgZ2VzdGlvbiBkZSBlcnJvcmVzCiAgICAgIHNob3dFcnJvcjogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogIiIsCiAgICAgIC8vdmFyaWFsZXMgZGUgY29tcG9uZW50ZXMKICAgICAgbGFuZ3VhZ2VzOiBbXSwKICAgICAgLy9UT0tFTgogICAgICB0b2tlbjogZ2V0QXV0aFRva2VuKCksCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy9UUkFFUiBMT1MgTEVOR1VBSkVTIERFIExBIEJCREQKICAgIGFzeW5jIGdldExhbmd1YWdlcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xhbmd1YWdlcyIpOwogICAgICAgIHRoaXMubGFuZ3VhZ2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfQogICAgfSwKCiAgICAvL1BVQkxJQ0FSIExBIFJFU1BVRVNUQQogICAgYXN5bmMgcG9zdFF1ZXN0aW9uKCkgewogICAgICAvL1JFQ09KTyBMT1MgREFUT1MgUEFSQSBFTlZJQVIgRU4gRUwgQk9EWQogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsCiAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2VRdWVzdGlvbiwKICAgICAgfTsKCiAgICAgIC8vQ09ORklHVVJPIEVMIE9CSkVUTyBERSBDT05GSUdVUkFDSU9OCiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogZ2V0QXV0aFRva2VuKCksCiAgICAgICAgfSwKICAgICAgfTsKICAgICAgLy9DT01QUlVFQk8gUVVFIExPUyBEQVRPUyBOTyBFU1RFTiBWQUNJT1MKICAgICAgaWYgKGRhdGEudGl0bGUgPT09ICIiIHx8IGRhdGEuY29udGVudCA9PT0gIiIgfHwgZGF0YS5sYW5ndWFnZSA9PT0gIiIpIHsKICAgICAgICBhbGVydEZ1bmN0aW9uKAogICAgICAgICAgIndhcm5pbmciLAogICAgICAgICAgIkNhbXBvcyBWYWPDrW9zIiwKICAgICAgICAgICJEZWJlcyBsbGVuYXIgdG9kb3MgbG9zIGNhbXBvcyBwYXJhIHB1YmxpY2FyIHR1IHByZWd1bnRhIgogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgRU5EUE9JTlQgKyAiL25ldy1xdWVzdGlvbiIsCiAgICAgICAgICAgIGRhdGEsCiAgICAgICAgICAgIGNvbmZpZwogICAgICAgICAgKTsKICAgICAgICAgIC8vQUxFUlQgREUgQ1JFQUNJT04gREUgUFJFR1VOVEEKICAgICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAgICJzdWNjZXMiLAogICAgICAgICAgICAiUHJlZ3VudGEgcHVibGljYWRhIiwKICAgICAgICAgICAgIlNlIGhhIHB1YmxpY2FkbyB0dSBwcmVndW50YSBleGl0b3NhbWVudGUuIgogICAgICAgICAgKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWlzLXByZWd1bnRhcyIpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB0aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxRdWVzdGlvbigpIHsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIsK/RXN0w6FzIHNlZ3Vybz8iLAogICAgICAgIHRleHQ6ICLCv1F1aWVyZXMgY2FuY2VsYXIgZXN0YSBwcmVndW50YT8iLAogICAgICAgIGljb246ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICJ2YXIoLS1ibHVlKSIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICJ2YXIoLS1yZWQpIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlNpLCBDYW5jZWxhciIsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMudGl0bGUgPSAiIjsKICAgICAgICAgIHRoaXMuY29udGVudCA9ICIiOwogICAgICAgICAgdGhpcy5sYW5ndWFnZVF1ZXN0aW9uID0gIiI7CiAgICAgICAgICBTd2FsLmZpcmUoIsKhQ2FuY2VsYWRhISIsICJUVSBwcmVndW50YSBoYSBzaWRvIGNhbmNlbGFkYSIsICJzdWNjZXNzIik7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJEYXNoYm9hcmQiIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy50aXRsZTsKICAgICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuY29udGVudDsKICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlUXVlc3Rpb247CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMYW5ndWFnZXMoKTsKICB9LAp9Owo="},{"version":3,"sources":["NewQuestion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewQuestion.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <span id=\"sectionTitle\">\n      <h1>Nueva pregunta</h1>\n      <h2>Escoge el lenguaje de programacion y escribe tu pregunta</h2>\n    </span>\n\n    <div class=\"newQuestionContainer\">\n      <h3>TITULO:</h3>\n      <input\n        class=\"titleInput\"\n        type=\"text\"\n        placeholder=\"Escribe el título de tu pregunta\"\n        v-model=\"title\"\n      />\n\n      <h3>LENGUAJE:</h3>\n      <select id=\"aviableLanguages\" v-model=\"languageQuestion\">\n        <option>Selecciona un lenguaje:</option>\n        <option\n          v-for=\"language in languages\"\n          :key=\"language.id\"\n          :value=\"language.name_language\"\n        >{{language.name_language}}</option>\n      </select>\n\n      <p\n        id=\"selectedLanguage\"\n        v-if=\"languageQuestion !== ''\"\n        :class=\"'languageStyle ' + languageQuestion.toLowerCase()\"\n      >{{ languageQuestion }}</p>\n      <h3>Escribe tu pregunta:</h3>\n      <textarea name=\"textQuestion\" rows=\"4\" placeholder=\"Haz tu pregunta\" v-model=\"content\"></textarea>\n      <p v-show=\"showError\">{{ errorMessage }}</p>\n      <span class=\"buttonsContainer\">\n        <button @click=\"postQuestion()\">Publicar</button>\n        <button class=\"cancelButton\" @click=\"cancelQuestion()\">Cancelar</button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\n\nimport { getAuthToken, getIdToken, ENDPOINT } from \"../utils/helpers\";\n\nexport default {\n  name: \"NewQuestion\",\n  data() {\n    return {\n      //variables de vista\n      title: \"\",\n      content: \"\",\n      languageQuestion: \"\",\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //variales de componentes\n      languages: [],\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER LOS LENGUAJES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.languages = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n\n    //PUBLICAR LA RESPUESTA\n    async postQuestion() {\n      //RECOJO LOS DATOS PARA ENVIAR EN EL BODY\n      let data = {\n        title: this.title,\n        content: this.content,\n        language: this.languageQuestion,\n      };\n\n      //CONFIGURO EL OBJETO DE CONFIGURACION\n      let config = {\n        headers: {\n          Authorization: getAuthToken(),\n        },\n      };\n      //COMPRUEBO QUE LOS DATOS NO ESTEN VACIOS\n      if (data.title === \"\" || data.content === \"\" || data.language === \"\") {\n        alertFunction(\n          \"warning\",\n          \"Campos Vacíos\",\n          \"Debes llenar todos los campos para publicar tu pregunta\"\n        );\n      } else {\n        try {\n          const response = await axios.post(\n            ENDPOINT + \"/new-question\",\n            data,\n            config\n          );\n          //ALERT DE CREACION DE PREGUNTA\n          alertFunction(\n            \"succes\",\n            \"Pregunta publicada\",\n            \"Se ha publicado tu pregunta exitosamente.\"\n          );\n          this.$router.push(\"/mis-preguntas\");\n        } catch (error) {\n          this.showError = true;\n          this.errorMessage = error.response.data.message;\n        }\n      }\n    },\n    cancelQuestion() {\n      Swal.fire({\n        title: \"¿Estás seguro?\",\n        text: \"¿Quieres cancelar esta pregunta?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"var(--blue)\",\n        cancelButtonColor: \"var(--red)\",\n        confirmButtonText: \"Si, Cancelar\",\n      }).then((result) => {\n        if (result.value) {\n          this.title = \"\";\n          this.content = \"\";\n          this.languageQuestion = \"\";\n          Swal.fire(\"¡Cancelada!\", \"TU pregunta ha sido cancelada\", \"success\");\n          this.$router.push({ name: \"Dashboard\" });\n        } else {\n          this.title = this.title;\n          this.content = this.content;\n          this.language = this.languageQuestion;\n        }\n      });\n    },\n  },\n  created() {\n    this.getLanguages();\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  text-align: left;\n}\n\n#selectedLanguage {\n  margin-bottom: 1rem;\n}\n.newQuestionContainer {\n  text-align: left;\n  background-color: var(--ligthColor);\n  padding: 2rem;\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n}\n#aviableLanguages {\n  width: 30%;\n  margin-bottom: 0.5rem;\n}\n\n.buttonsContainer {\n  display: flex;\n  justify-content: flex-end;\n}\n\n@media only screen and (min-width: 1200px) {\n  .buttonsContainer {\n    display: flex;\n    justify-content: flex-end;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n</style>"]}]}