{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue","mtime":1596823170549},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGdldEF1dGhUb2tlbiwgZ2V0SWRUb2tlbiwgYWxlcnRGdW5jdGlvbiB9IGZyb20gIi4uL3V0aWxzL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOZXdRdWVzdGlvbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vdmFyaWFibGVzIGRlIHZpc3RhCiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudDogIiIsCiAgICAgIGxhbmd1YWdlUXVlc3Rpb246ICIiLAogICAgICAvL3ZhcmlhYmxlcyBkZSBnZXN0aW9uIGRlIGVycm9yZXMKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgLy92YXJpYWxlcyBkZSBjb21wb25lbnRlcwogICAgICBsYW5ndWFnZXM6IFtdLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL1RSQUVSIExPUyBMRU5HVUFHRVMgREUgTEEgQkJERAogICAgYXN5bmMgZ2V0TGFuZ3VhZ2VzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbGFuZ3VhZ2VzIik7CiAgICAgICAgdGhpcy5sYW5ndWFnZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICB9CiAgICB9LAoKICAgIC8vUFVCTElDQVIgTEEgUkVTUFVFU1RBCiAgICBhc3luYyBwb3N0UXVlc3Rpb24oKSB7CiAgICAgIC8vUkVDT0pPIExPUyBEQVRPUyBQQVJBIEVOVklBUiBFTiBFTCBCT0RZCiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCwKICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZVF1ZXN0aW9uLAogICAgICB9OwoKICAgICAgLy9DT05GSUdVUk8gRUwgT0JKRVRPIERFIENPTkZJR1VSQUNJT04KICAgICAgbGV0IGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBnZXRBdXRoVG9rZW4oKSwKICAgICAgICB9LAogICAgICB9OwogICAgICAvL0NPTVBSVUVCTyBRVUUgTE9TIERBVE9TIE5PIEVTVEVOIFZBQ0lPUwogICAgICBpZiAoZGF0YS50aXRsZSA9PT0gIiIgfHwgZGF0YS5jb250ZW50ID09PSAiIiB8fCBkYXRhLmxhbmd1YWdlID09PSAiIikgewogICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAid2FybmluZyIsCiAgICAgICAgICAiQ2FtcG9zIFZhY8Otb3MiLAogICAgICAgICAgIkRlYmVzIGxsZW5hciB0b2RvcyBsb3MgY2FtcG9zIHBhcmEgcHVibGljYXIgdHUgcHJlZ3VudGEiCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDozMDAwL25ldy1xdWVzdGlvbiIsCiAgICAgICAgICAgIGRhdGEsCiAgICAgICAgICAgIGNvbmZpZwogICAgICAgICAgKTsKICAgICAgICAgIC8vQUxFUlQgREUgQ1JFQUNJT04gREUgUFJFR1VOVEEKICAgICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAgICJzdWNjZXNzIiwKICAgICAgICAgICAgIlByZWd1bnRhIHB1YmxpY2FkYSIsCiAgICAgICAgICAgICJTZSBoYSBwdWJsaWNhZG8gdHUgcHJlZ3VudGEgZXhpdG9zYW1lbnRlLiIKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21pcy1wcmVndW50YXMiKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2FuY2VsUXVlc3Rpb24oKSB7CiAgICAgIHRoaXMudGl0bGUgPSAiIjsKICAgICAgdGhpcy5jb250ZW50ID0gIiI7CiAgICAgIHRoaXMubGFuZ3VhZ2VRdWVzdGlvbiA9ICIiOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExhbmd1YWdlcygpOwogIH0sCn07Cg=="},{"version":3,"sources":["NewQuestion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewQuestion.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div>\n      <h3>TITULO:</h3>\n      <input type=\"text\" placeholder=\"Este es el título de tu pregunta..\" v-model=\"title\" />\n\n      <h3>LENGUAJE:</h3>\n      <select id=\"language\" v-model=\"languageQuestion\">\n        <option>Selecciona un lenguage:</option>\n        <option\n          v-for=\"language in languages\"\n          :key=\"language.id\"\n          :value=\"language.name_language\"\n        >{{language.name_language}}</option>\n      </select>\n\n      <p>{{ languageQuestion }}</p>\n      <h3>Escribe tu pregunta:</h3>\n      <textarea name=\"textQuestion\" rows=\"4\" placeholder=\"Haz tu pregunta...\" v-model=\"content\"></textarea>\n      <p v-show=\"showError\">{{ errorMessage }}</p>\n\n      <button @click=\"postQuestion()\">Publicar</button>\n      <button class=\"cancelButton\" @click=\"cancelQuestion()\">Cancelar</button>\n      <!-- //FALTA FUNCION DE CANCELAR -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nexport default {\n  name: \"NewQuestion\",\n  data() {\n    return {\n      //variables de vista\n      title: \"\",\n      content: \"\",\n      languageQuestion: \"\",\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //variales de componentes\n      languages: [],\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.languages = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n\n    //PUBLICAR LA RESPUESTA\n    async postQuestion() {\n      //RECOJO LOS DATOS PARA ENVIAR EN EL BODY\n      let data = {\n        title: this.title,\n        content: this.content,\n        language: this.languageQuestion,\n      };\n\n      //CONFIGURO EL OBJETO DE CONFIGURACION\n      let config = {\n        headers: {\n          Authorization: getAuthToken(),\n        },\n      };\n      //COMPRUEBO QUE LOS DATOS NO ESTEN VACIOS\n      if (data.title === \"\" || data.content === \"\" || data.language === \"\") {\n        alertFunction(\n          \"warning\",\n          \"Campos Vacíos\",\n          \"Debes llenar todos los campos para publicar tu pregunta\"\n        );\n      } else {\n        try {\n          const response = await axios.post(\n            \"http://localhost:3000/new-question\",\n            data,\n            config\n          );\n          //ALERT DE CREACION DE PREGUNTA\n          alertFunction(\n            \"success\",\n            \"Pregunta publicada\",\n            \"Se ha publicado tu pregunta exitosamente.\"\n          );\n          this.$router.push(\"/mis-preguntas\");\n        } catch (error) {\n          this.showError = true;\n          this.errorMessage = error.response.data.message;\n        }\n      }\n    },\n    cancelQuestion() {\n      this.title = \"\";\n      this.content = \"\";\n      this.languageQuestion = \"\";\n    },\n  },\n  created() {\n    this.getLanguages();\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}