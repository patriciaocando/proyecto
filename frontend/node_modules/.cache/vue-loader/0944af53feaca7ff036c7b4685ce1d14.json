{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue","mtime":1596656819875},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7CiAgZ2V0QXV0aFRva2VuLAogIGdldElkVG9rZW4sCiAgYWxlcnRGdW5jdGlvbiwKICBnZXRSb2xlVG9rZW4sCn0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkV4cGVydFZhbGlkYXRpb24iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL3ZhcmlhYmxlcyBkZSBwZXRpY29vbiBkZSB1c3VhcmlvCiAgICAgIGlkVXNlclJlcXVlc3Q6ICIiLAogICAgICBsYW5ndWFnZXNSZXF1ZXN0OiAiIiwKCiAgICAgIC8vdmFyaWFibGVzIGRlIGdlc3Rpb24gZGUgZXJyb3JlcwogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSZXF1ZXN0RGF0YSgpIHsKICAgICAgbGV0IFssIHVybF0gPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgiaWQ9Iik7CiAgICAgIGxldCBbdXNlcklkLCBsYW5ndWFnZXNdID0gdXJsLnNwbGl0KCImbGFuZz0iKTsKICAgICAgdGhpcy5pZFVzZXJSZXF1ZXN0ID0gdXNlcklkOwogICAgICB0aGlzLmxhbmd1YWdlc1JlcXVlc3QgPSBsYW5ndWFnZXM7CiAgICAgIC8vY29uc29sZS5sb2coZ2V0Um9sZVRva2VuKHRoaXMudG9rZW4pKTsKICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZUV4cGVydCgpIHsKICAgICAgLy9DQUJFQ0VSQSBERSBBVVRPUklaQUNJT04KICAgICAgbGV0IGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLnRva2VuLAogICAgICAgICAgcm9sZTogZ2V0Um9sZVRva2VuKHRoaXMudG9rZW4pLAogICAgICAgIH0sCiAgICAgIH07CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmxhbmd1YWdlc1JlcXVlc3QpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMvdmFsaWRhdGUtZXhwZXJ0LyIgKyB0aGlzLmlkVXNlclJlcXVlc3QsCiAgICAgICAgICB7IGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXNSZXF1ZXN0IH0sCiAgICAgICAgICBjb25maWcKICAgICAgICApOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSZXF1ZXN0RGF0YSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["ExpertValidation.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExpertValidation.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1>Petición de experto</h1>\n    <p>EL usuario {{idUserRequest}} solicita hacerse experto en los languages {{languagesRequest}}</p>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <button @click=\"validateExpert()\">SÍ! HACERLO EXPERTO</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {\n  getAuthToken,\n  getIdToken,\n  alertFunction,\n  getRoleToken,\n} from \"../utils/helpers\";\n\nexport default {\n  name: \"ExpertValidation\",\n  data() {\n    return {\n      //variables de peticoon de usuario\n      idUserRequest: \"\",\n      languagesRequest: \"\",\n\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    getRequestData() {\n      let [, url] = window.location.href.split(\"id=\");\n      let [userId, languages] = url.split(\"&lang=\");\n      this.idUserRequest = userId;\n      this.languagesRequest = languages;\n      //console.log(getRoleToken(this.token));\n    },\n    async validateExpert() {\n      //CABECERA DE AUTORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n          role: getRoleToken(this.token),\n        },\n      };\n\n      console.log(this.languagesRequest);\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/users/validate-expert/\" + this.idUserRequest,\n          { languages: this.languagesRequest },\n          config\n        );\n      } catch (error) {\n        this.showError = true;\n\n        this.errorMessage = error.response.data.message;\n      }\n    },\n  },\n  created() {\n    this.getRequestData();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}