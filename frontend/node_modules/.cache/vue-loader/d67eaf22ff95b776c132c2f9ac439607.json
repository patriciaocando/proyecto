{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Home.vue","mtime":1596794347838},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzaG93cXVlc3Rpb25zIGZyb20gIkAvY29tcG9uZW50cy9HZXRRdWVzdGlvbnMudnVlIjsKaW1wb3J0IHNlYXJjaGNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvU2VhcmNoQ29tcG9uZW50LnZ1ZSI7CmltcG9ydCB7IEVORFBPSU5UIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIHNob3dxdWVzdGlvbnMsCiAgICBzZWFyY2hjb21wb25lbnQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlc3Rpb25zOiBbXSwKICAgICAgcXVlcnlQYXJhbXM6IHt9LAogICAgICBsYW5ndWFnZXM6IFtdLAogICAgICAvL3ZhcmlhYmxlcyBkZSBnZXN0aW9uIGRlIGVycm9yZXMKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgc3VjY2Vzc1NlYXJjaDogdHJ1ZSwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgY29sbGVjdFBhcmFtcyhjb21wb25lbnRQYXJhbXMpIHsKICAgICAgdGhpcy5zdWNjZXNzU2VhcmNoID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93RXJyb3IgPSBmYWxzZTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IGNvbXBvbmVudFBhcmFtczsKCiAgICAgIGF3YWl0IHRoaXMuZ2V0UXVlc3Rpb25zKCk7CiAgICB9LAogICAgLy9UUkFJR08gVE9EQVMgTEFTIFBSRUdVTlRBUyBERSBMQSBCQkRECiAgICBhc3luYyBnZXRRdWVzdGlvbnMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoRU5EUE9JTlQgKyAiL3F1ZXN0aW9ucyIsIHsKICAgICAgICAgIHBhcmFtczogdGhpcy5xdWVyeVBhcmFtcywKICAgICAgICB9KTsKICAgICAgICB0aGlzLnF1ZXN0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICBhd2FpdCB0aGlzLmdldExhbmd1YWdlcygpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPT09ICJObyBoYXkgcHJlZ3VudGFzIHF1ZSBjb2luY2lkYW4gY29uIHR1IGJ1c3F1ZWRhIgogICAgICAgICkgewogICAgICAgICAgdGhpcy5zdWNjZXNzU2VhcmNoID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy9UUkFFUiBMT1MgTEVOR1VBR0VTIERFIExBIEJCREQKICAgIGFzeW5jIGdldExhbmd1YWdlcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xhbmd1YWdlcyIpOwogICAgICAgIHRoaXMubGFuZ3VhZ2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyU2VhcmNoKCkgewogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRRdWVzdGlvbnMoKTsKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Bienvenidos a TutorShips</h1>\n    <searchcomponent\n      v-on:queryParams=\"collectParams\"\n      v-on:clearSearch=\"clearSearch\"\n      :languages=\"languages\"\n    />\n\n    <button>\n      <router-link :to=\"{ name: 'NewQuestion' }\">Hacer pregunta</router-link>\n    </button>\n    <button>\n      <router-link :to=\"{ name: 'NewAnswer' }\">responder</router-link>\n    </button>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <showquestions v-show=\"successSearch\" :questions=\"questions\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport showquestions from \"@/components/GetQuestions.vue\";\nimport searchcomponent from \"@/components/SearchComponent.vue\";\nimport { ENDPOINT } from \"../utils/helpers\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    showquestions,\n    searchcomponent,\n  },\n  data() {\n    return {\n      questions: [],\n      queryParams: {},\n      languages: [],\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      successSearch: true,\n    };\n  },\n\n  methods: {\n    async collectParams(componentParams) {\n      this.successSearch = true;\n      this.showError = false;\n      this.queryParams = componentParams;\n\n      await this.getQuestions();\n    },\n    //TRAIGO TODAS LAS PREGUNTAS DE LA BBDD\n    async getQuestions() {\n      try {\n        const response = await axios.get(ENDPOINT + \"/questions\", {\n          params: this.queryParams,\n        });\n        this.questions = response.data.data;\n        await this.getLanguages();\n      } catch (error) {\n        this.showError = true;\n\n        this.errorMessage = error.response.data.message;\n        if (\n          this.errorMessage === \"No hay preguntas que coincidan con tu busqueda\"\n        ) {\n          this.successSearch = false;\n        }\n      }\n    },\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.languages = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    clearSearch() {\n      location.reload();\n    },\n  },\n  created() {\n    this.getQuestions();\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}