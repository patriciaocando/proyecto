{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue","mtime":1597139076939},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7CiAgZ2V0QXV0aFRva2VuLAogIGdldElkVG9rZW4sCiAgYWxlcnRGdW5jdGlvbiwKICBnZXRSb2xlVG9rZW4sCiAgRU5EUE9JTlQsCiAgY29uZmlnLAp9IGZyb20gIi4uL3V0aWxzL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFeHBlcnRWYWxpZGF0aW9uIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy92YXJpYWJsZXMgZGUgcGV0aWNvb24gZGUgdXN1YXJpbwogICAgICBpZFVzZXJSZXF1ZXN0OiAiIiwKICAgICAgbGFuZ3VhZ2VzUmVxdWVzdDogIiIsCgogICAgICAvL3ZhcmlhYmxlcyBkZSBnZXN0aW9uIGRlIGVycm9yZXMKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgLy9UT0tFTgogICAgICB0b2tlbjogZ2V0QXV0aFRva2VuKCksCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UmVxdWVzdERhdGEoKSB7CiAgICAgIGxldCBbLCB1cmxdID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoImlkPSIpOwogICAgICBsZXQgW3VzZXJJZCwgbGFuZ3VhZ2VzXSA9IHVybC5zcGxpdCgiJmxhbmc9Iik7CiAgICAgIHRoaXMuaWRVc2VyUmVxdWVzdCA9IHVzZXJJZDsKICAgICAgdGhpcy5sYW5ndWFnZXNSZXF1ZXN0ID0gbGFuZ3VhZ2VzOwogICAgICAvL2NvbnNvbGUubG9nKGdldFJvbGVUb2tlbih0aGlzLnRva2VuKSk7CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGVFeHBlcnQoKSB7CiAgICAgIC8vQ0FCRUNFUkEgREUgQVVUT1JJWkFDSU9OCiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy50b2tlbiwKICAgICAgICAgIHJvbGU6IGdldFJvbGVUb2tlbih0aGlzLnRva2VuKSwKICAgICAgICB9LAogICAgICB9OwoKICAgICAgY29uc29sZS5sb2codGhpcy5sYW5ndWFnZXNSZXF1ZXN0KTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICBFTkRQT0lOVCArICIvdXNlcnMvdmFsaWRhdGUtZXhwZXJ0LyIgKyB0aGlzLmlkVXNlclJlcXVlc3QsCiAgICAgICAgICB7IGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXNSZXF1ZXN0IH0sCiAgICAgICAgICBjb25maWcKICAgICAgICApOwogICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAic3VjY2VzcyIsCiAgICAgICAgICAiTnVldm8gRXhwZXJ0byIsCiAgICAgICAgICBgSGFzIGRhZG8gZGUgYWx0YSBhIHVuIG51ZXZvIGV4cGVydG8gZW4gVHV0b3JTaGlwc2AKICAgICAgICApOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSZXF1ZXN0RGF0YSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["ExpertValidation.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExpertValidation.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1>Petición de experto</h1>\n    <p>\n      EL usuario {{ idUserRequest }} solicita hacerse experto en los languages\n      {{ languagesRequest }}\n    </p>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <button @click=\"validateExpert()\">SÍ! HACERLO EXPERTO</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {\n  getAuthToken,\n  getIdToken,\n  alertFunction,\n  getRoleToken,\n  ENDPOINT,\n  config,\n} from \"../utils/helpers\";\n\nexport default {\n  name: \"ExpertValidation\",\n  data() {\n    return {\n      //variables de peticoon de usuario\n      idUserRequest: \"\",\n      languagesRequest: \"\",\n\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    getRequestData() {\n      let [, url] = window.location.href.split(\"id=\");\n      let [userId, languages] = url.split(\"&lang=\");\n      this.idUserRequest = userId;\n      this.languagesRequest = languages;\n      //console.log(getRoleToken(this.token));\n    },\n    async validateExpert() {\n      //CABECERA DE AUTORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n          role: getRoleToken(this.token),\n        },\n      };\n\n      console.log(this.languagesRequest);\n      try {\n        const response = await axios.post(\n          ENDPOINT + \"/users/validate-expert/\" + this.idUserRequest,\n          { languages: this.languagesRequest },\n          config\n        );\n        alertFunction(\n          \"success\",\n          \"Nuevo Experto\",\n          `Has dado de alta a un nuevo experto en TutorShips`\n        );\n      } catch (error) {\n        this.showError = true;\n\n        this.errorMessage = error.response.data.message;\n      }\n    },\n  },\n  created() {\n    this.getRequestData();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}