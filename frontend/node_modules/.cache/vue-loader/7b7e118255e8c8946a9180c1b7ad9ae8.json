{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/BecomeExpert.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/BecomeExpert.vue","mtime":1596663042910},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBsYW5ndWFnZXNzZWxlY3RvciBmcm9tICJAL2NvbXBvbmVudHMvTGFuZ3VhZ2VTZWxlY3Rvci52dWUiOwoKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJlY29tZUV4cGVydCIsCiAgY29tcG9uZW50czogewogICAgbGFuZ3VhZ2Vzc2VsZWN0b3IsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy92YXJpYWJsZXMgZGUgdmlzdGEKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgc2hvd0Vycm9yOiBmYWxzZSwKICAgICAgYmJkZExhbmd1YWdlczogW10sCgogICAgICAvL3ZhcmlhbGVzIGRlIGNvbXBvbmVudGVzCiAgICAgIGNob29zZW5MYW5ndWFnZXM6IFtdLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL1RSQUVSIExPUyBMRU5HVUFHRVMgREUgTEEgQkJERAogICAgYXN5bmMgZ2V0TGFuZ3VhZ2VzKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbGFuZ3VhZ2VzIik7CiAgICAgICAgdGhpcy5iYmRkTGFuZ3VhZ2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfQogICAgfSwKICAgIC8vVFJBRVIgRUwgTEVOR1VBR0UgRVNDT0dJRE8gREVMIENPTVBPTkVOVEUvU0VMRUNUIExFTkdVQUpFUwogICAgZ2V0Q29tcG9uZW50TGFuZ3VhZ2UobGFuZ3VhZ2VJZCkgewogICAgICB0aGlzLmNob29zZW5MYW5ndWFnZXMgPSBsYW5ndWFnZUlkOwogICAgfSwKICAgIC8vRU5WSUFSIExBIExTT0xJQ1RVRCBBTCBBRE1JTgogICAgYXN5bmMgcG9zdEV4cGVydFJlcXVlc3QoKSB7CiAgICAgIC8vREFUT1MgREVMIFVTVUFSSU8KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgbGFuZ3VhZ2VzOiB0aGlzLmNob29zZW5MYW5ndWFnZXMsCiAgICAgIH07CiAgICAgIC8vQ0FCRUNFUkEgREUgQVVUT1JJWkFDSU9OCiAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy50b2tlbiwKICAgICAgICB9LAogICAgICB9OwogICAgICAvL2NvbnNvbGUubG9nKCJlc3RveSBlbnZpYW5kbyBlbiBsYSBwZXRpY2lvbiIsIGRhdGEubGFuZ3VhZ2VzKTsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy91cGdyYWRlLXVzZXIiLAogICAgICAgICAgZGF0YSwKICAgICAgICAgIGNvbmZpZwogICAgICAgICk7CgogICAgICAgIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgICAic3VjY2VzcyIsCiAgICAgICAgICAiU29saWNpdHVkIGVudmlhZGEiLAogICAgICAgICAgIkVMIGFkbWluaXN0cmFkb3IgZGUgVHV0b3JzaGlwcyB0ZSByZXNwb25kZXLDoSBwcm94aW1hbWVudGUiCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgIH0KCiAgICAgIC8qIGFsZXJ0RnVuY3Rpb24oCiAgICAgICAgImVycm9yIiwKICAgICAgICAiwr9TZWd1cm8gcXVlIHF1aWVyZXMgY2FuY2VsYXI/IiwKICAgICAgICAiUHVlZGVzIHZvbHZlciBhIHNvbGljaXRhciBzZXIgZXhwZXJ0byBjdWFuZG8gdGUgc2llbnRhcyBlbXBlcmFkbyIKICAgICAgKTsgKi8KICAgIH0sCgogICAgY2FuY2VsUmVxdWVzdCgpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGFuZ3VhZ2VzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["BecomeExpert.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BecomeExpert.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <vue-headful title=\"Experto | HackaClients\" description=\"Solicitar volverse experto\" />\n    <div>\n      <!--DIV PARA COLOCAR LA IMAGEN DE TUTORSHIPS-->\n    </div>\n    <div>\n      <div>\n        <img src alt=\"logo Tutorships\" />\n        <h1>¿Te sientes preparado para ser un experto?</h1>\n        <p>Selecciona uno o varios lenguajes en los que quieres ser experto y envíanos tu solicitud.</p>\n        <languagesselector :languages=\"bbddLanguages\" v-on:languageId=\"getComponentLanguage\" />\n        <p v-show=\"showError\">{{ errorMessage }}</p>\n\n        <button @click=\"postExpertRequest()\">ENNVIAR MI SOLICITUD</button>\n        <button @click=\"cancelRequest()\">Cancelar</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport languagesselector from \"@/components/LanguageSelector.vue\";\n\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nexport default {\n  name: \"BecomeExpert\",\n  components: {\n    languagesselector,\n  },\n  data() {\n    return {\n      //variables de vista\n      errorMessage: \"\",\n      showError: false,\n      bbddLanguages: [],\n\n      //variales de componentes\n      choosenLanguages: [],\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.bbddLanguages = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    //TRAER EL LENGUAGE ESCOGIDO DEL COMPONENTE/SELECT LENGUAJES\n    getComponentLanguage(languageId) {\n      this.choosenLanguages = languageId;\n    },\n    //ENVIAR LA LSOLICTUD AL ADMIN\n    async postExpertRequest() {\n      //DATOS DEL USUARIO\n      let data = {\n        languages: this.choosenLanguages,\n      };\n      //CABECERA DE AUTORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n        },\n      };\n      //console.log(\"estoy enviando en la peticion\", data.languages);\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/users/upgrade-user\",\n          data,\n          config\n        );\n\n        alertFunction(\n          \"success\",\n          \"Solicitud enviada\",\n          \"EL administrador de Tutorships te responderá proximamente\"\n        );\n\n        this.$router.push(\"/\");\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n\n      /* alertFunction(\n        \"error\",\n        \"¿Seguro que quieres cancelar?\",\n        \"Puedes volver a solicitar ser experto cuando te sientas emperado\"\n      ); */\n    },\n\n    cancelRequest() {\n      location.reload();\n    },\n  },\n  created() {\n    this.getLanguages();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}