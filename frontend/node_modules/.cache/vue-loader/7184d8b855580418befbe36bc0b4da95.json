{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue","mtime":1596479860760},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CgppbXBvcnQgdXNlcnByb2ZpbGUgZnJvbSAiQC9jb21wb25lbnRzL1VzZXJQcm9maWxlLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZmlsZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2ZpbGU6IHt9LAogICAgICB0b2tlbjogZ2V0QXV0aFRva2VuKCksCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgdXNlcnByb2ZpbGUsCiAgfSwKCiAgbWV0aG9kczogewogICAgdXBkYXRlVXNlckRhdGEodXNlckRhdGEpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAvL0RBVE9TIERFTCBVU1VBUklPCiAgICAgIGxldCBkYXRhID0gewogICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsCiAgICAgICAgbGFzdF9uYW1lOiB1c2VyRGF0YS5sYXN0bmFtZSwKICAgICAgICB1c2VybmFtZTogdXNlckRhdGEudXNlcm5hbWUsCiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLAogICAgICAgIHByb2ZpbGVfYmlvOiB1c2VyRGF0YS5wcm9maWxlLAogICAgICB9OwogICAgICAvL0NBQkVDRURBIERFIFVBVE9SSVpBQ0lPTgogICAgICBsZXQgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IHNlbGYudG9rZW4sCiAgICAgICAgfSwKICAgICAgfTsKCiAgICAgIGF4aW9zCiAgICAgICAgLnB1dCgKICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMvZWRpdC1wcm9maWxlLyIgKyB1c2VyRGF0YS5pZCwKICAgICAgICAgIGRhdGEsCiAgICAgICAgICBjb25maWcKICAgICAgICApCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgLy9BTEVSVCBERSBFRElUQVIKICAgICAgYWxlcnRGdW5jdGlvbigKICAgICAgICAic3VjY2VzcyIsCiAgICAgICAgIkFjdHVhbGl6YWRvIiwKICAgICAgICBgSGFzIGVkaXRhZG8gbG9zIGRhdG9zIGRlICR7ZGF0YS51c2VybmFtZX0gZXhpdG9zYW1lbnRlYAogICAgICApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSwgNDAwMCk7CiAgICB9LAogICAgLy9UUkFJR08gTEEgSU5GTyBERUwgUEVSRklMIERFIFVTVUFSSU8gREUgTEEgQkJERAogICAgZ2V0VXNlclByb2ZpbGUoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMvcHJvZmlsZS8iICsgZ2V0SWRUb2tlbihzZWxmLnRva2VuKSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBzZWxmLnRva2VuLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgc2VsZi5wcm9maWxlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coc2VsZi5wcm9maWxlKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJQcm9maWxlKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <userprofile v-on:iduserupdate=\"updateUserData\" :userdata=\"profile\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nimport userprofile from \"@/components/UserProfile.vue\";\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      profile: {},\n      token: getAuthToken(),\n    };\n  },\n  components: {\n    userprofile,\n  },\n\n  methods: {\n    updateUserData(userData) {\n      let self = this;\n      //DATOS DEL USUARIO\n      let data = {\n        name: userData.name,\n        last_name: userData.lastname,\n        username: userData.username,\n        email: userData.email,\n        profile_bio: userData.profile,\n      };\n      //CABECEDA DE UATORIZACION\n      let config = {\n        headers: {\n          Authorization: self.token,\n        },\n      };\n\n      axios\n        .put(\n          \"http://localhost:3000/users/edit-profile/\" + userData.id,\n          data,\n          config\n        )\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.error(error);\n        });\n      //ALERT DE EDITAR\n      alertFunction(\n        \"success\",\n        \"Actualizado\",\n        `Has editado los datos de ${data.username} exitosamente`\n      );\n      setTimeout(function () {\n        location.reload();\n      }, 4000);\n    },\n    //TRAIGO LA INFO DEL PERFIL DE USUARIO DE LA BBDD\n    getUserProfile() {\n      let self = this;\n      axios\n        .get(\"http://localhost:3000/users/profile/\" + getIdToken(self.token), {\n          headers: {\n            Authorization: self.token,\n          },\n        })\n        .then(function (response) {\n          self.profile = response.data.data;\n          console.log(self.profile);\n        })\n        .catch(function (error) {\n          console.error(error);\n        });\n    },\n  },\n  created() {\n    this.getUserProfile();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}