{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Home.vue","mtime":1596793635058},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojU2VhcmNoOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcmlnaHQ6IDIwcHg7CgogIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICBoZWlnaHQ6IDIwcHg7CiAgd2lkdGg6IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBiYWNrZ3JvdW5kOiByZWQ7Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>Bienvenidos a TutorShips</h1>\n    <searchcomponent v-on:queryParams=\"collectParams\" :languages=\"languages\" />\n\n    <button>\n      <router-link :to=\"{ name: 'NewQuestion' }\">Hacer pregunta</router-link>\n    </button>\n    <button>\n      <router-link :to=\"{ name: 'NewAnswer' }\">responder</router-link>\n    </button>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <showquestions v-show=\"successSearch\" :questions=\"questions\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport showquestions from \"@/components/GetQuestions.vue\";\nimport searchcomponent from \"@/components/SearchComponent.vue\";\nimport { ENDPOINT } from \"../utils/helpers\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    showquestions,\n    searchcomponent,\n  },\n  data() {\n    return {\n      questions: [],\n      queryParams: {},\n      languages: [],\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      successSearch: true,\n    };\n  },\n\n  methods: {\n    async collectParams(componentParams) {\n      this.queryParams = componentParams;\n      console.log(this.queryParams);\n      await this.getQuestions();\n    },\n    //TRAIGO TODAS LAS PREGUNTAS DE LA BBDD\n    async getQuestions() {\n      try {\n        const response = await axios.get(ENDPOINT + \"/questions\", {\n          params: this.queryParams,\n        });\n        this.questions = response.data.data;\n        await this.getLanguages();\n      } catch (error) {\n        this.showError = true;\n\n        this.errorMessage = error.response.data.message;\n        if (\n          this.errorMessage === \"No hay preguntas que coincidan con tu busqueda\"\n        ) {\n          this.successSearch = false;\n        }\n      }\n    },\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.languages = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n  },\n  created() {\n    this.getQuestions();\n  },\n};\n</script>\n\n<style scoped>\n#Search::-webkit-search-cancel-button {\n  position: relative;\n  right: 20px;\n\n  -webkit-appearance: none;\n  height: 20px;\n  width: 20px;\n  border-radius: 10px;\n  background: red;\n}\n</style>"]}]}