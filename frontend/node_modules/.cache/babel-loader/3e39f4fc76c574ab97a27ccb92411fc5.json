{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/UserAnswers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/UserAnswers.vue","mtime":1596926668421},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBnZXRBdXRoVG9rZW4sIGdldElkVG9rZW4sIGFsZXJ0RnVuY3Rpb24sIGNvbmZpZywgRU5EUE9JTlQgfSBmcm9tICIuLi91dGlscy9oZWxwZXJzIjsKaW1wb3J0IGFuc3dlcmNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvQW5zd2VyQ29tcG9uZW50LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckFuc3dlcnMiLAogIGNvbXBvbmVudHM6IHsKICAgIGFuc3dlcmNvbXBvbmVudDogYW5zd2VyY29tcG9uZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy9WYXJpYWJsZSBkZSBjb21wb25lbnRlCiAgICAgIGVkaXRBbnN3ZXI6IGZhbHNlLAogICAgICAvL1ZhcmlhYmxlIGRlIHZpc3RhCiAgICAgIGJiZGRBbnN3ZXJzOiBbXSwKICAgICAgY3VycmVudEFuc3dlcjogIiIsCiAgICAgIGlkQW5zd2VyRWRpdDogIiIsCiAgICAgIC8vdmFyaWFibGVzIGRlIGdlc3Rpb24gZGUgZXJyb3JlcwogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vVFJBRVIgREVTREUgRUwgQ09NUE9ORU5URSBMT1MgREFUT1MgREUgTEEgUFJFR1VOVEEgUEFSQSBFRElUQVIKICAgIGdldENvbXBvbmVudERhdGE6IGZ1bmN0aW9uIGdldENvbXBvbmVudERhdGEoZGF0YSkgewogICAgICB0aGlzLmVkaXRBbnN3ZXIgPSB0cnVlOwogICAgICB0aGlzLmN1cnJlbnRBbnN3ZXIgPSBkYXRhLmN1cnJlbnRBbnN3ZXI7CiAgICAgIHRoaXMuaWRBbnN3ZXJFZGl0ID0gZGF0YS5pZDsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICB9LAogICAgLy9UUkFFUiBSRVNQVUVTVEFTIEhFQ0hBUyBQT1IgRUwgVVNVQVJJTyBERVNERSBMQSBCQkRECiAgICBnZXRBbnN3ZXJzOiBmdW5jdGlvbiBnZXRBbnN3ZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoRU5EUE9JTlQgKyAiL2Fuc3dlciIsIGNvbmZpZyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmJiZGRBbnN3ZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHBvc3RFZGl0ZWRBbnN3ZXI6IGZ1bmN0aW9uIHBvc3RFZGl0ZWRBbnN3ZXIoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGF0YSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzMi5jdXJyZW50QW5zd2VyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dChFTkRQT0lOVCArICIvZWRpdC1hbnN3ZXIvIiArIGlkLCBkYXRhLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzMi5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0Mi50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlQW5zd2VyOiBmdW5jdGlvbiBkZWxldGVBbnN3ZXIoaWRBbnN3ZXIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoRU5EUE9JTlQgKyAiL2RlbGV0ZS1hbnN3ZXIvIiArIGlkQW5zd2VyLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgYWxlcnRGdW5jdGlvbigiQm9ycmFkYSEiLCAiVHUgcmVzcHVlc3RhIGhhIHNpZG8gYm9ycmFkYS4iLCAic3VjY2VzcyIpOwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzMy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMzLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0My50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2FuY2VsUmVxdWVzdDogZnVuY3Rpb24gY2FuY2VsUmVxdWVzdCgpIHsKICAgICAgdGhpcy5lZGl0QW5zd2VyID0gZmFsc2U7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QW5zd2VycygpOwogIH0KfTs="},{"version":3,"sources":["UserAnswers.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div>\n      <p v-show=\"showError\">{{ errorMessage }}</p>\n      <answercomponent\n        :answers=\"bbddAnswers\"\n        v-on:editedAnswer=\"getComponentData\"\n        v-on:deleteAnswer=\"deleteAnswer\"\n      />\n      <!--EDITAR RESPUESTA-->\n      <div v-show=\"editAnswer\" class=\"answerEdit\">\n        <div>\n          <textarea type=\"text\" name=\"textAnswer\" rows=\"4\" v-model=\"currentAnswer\"></textarea>\n\n          <button @click=\"deleteAnswer(idAnswerEdit)\">Borrar respuesta</button>\n        </div>\n        <button @click=\"postEditedAnswer(idAnswerEdit)\">GUARDAR</button>\n        <button @click=\"cancelRequest()\">CANCELAR</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport {\n  getAuthToken,\n  getIdToken,\n  alertFunction,\n  config,\n  ENDPOINT,\n} from \"../utils/helpers\";\n\nimport answercomponent from \"@/components/AnswerComponent.vue\";\n\nexport default {\n  name: \"UserAnswers\",\n  components: {\n    answercomponent,\n  },\n  data() {\n    return {\n      //Variable de componente\n      editAnswer: false,\n      //Variable de vista\n      bbddAnswers: [],\n      currentAnswer: \"\",\n      idAnswerEdit: \"\",\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER DESDE EL COMPONENTE LOS DATOS DE LA PREGUNTA PARA EDITAR\n    getComponentData(data) {\n      this.editAnswer = true;\n      this.currentAnswer = data.currentAnswer;\n      this.idAnswerEdit = data.id;\n      console.log(data);\n    },\n    //TRAER RESPUESTAS HECHAS POR EL USUARIO DESDE LA BBDD\n    async getAnswers() {\n      try {\n        const response = await axios.get(ENDPOINT + \"/answer\", config);\n        this.bbddAnswers = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    async postEditedAnswer(id) {\n      try {\n        let data = {\n          content: this.currentAnswer,\n        };\n\n        const response = await axios.put(\n          ENDPOINT + \"/edit-answer/\" + id,\n          data,\n          config\n        );\n\n        location.reload();\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n\n    async deleteAnswer(idAnswer) {\n      try {\n        const response = await axios.delete(\n          ENDPOINT + \"/delete-answer/\" + idAnswer,\n          config\n        );\n\n        alertFunction(\"Borrada!\", \"Tu respuesta ha sido borrada.\", \"success\");\n\n        location.reload();\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    cancelRequest() {\n      this.editAnswer = false;\n      location.reload();\n    },\n  },\n  created() {\n    this.getAnswers();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views"}]}