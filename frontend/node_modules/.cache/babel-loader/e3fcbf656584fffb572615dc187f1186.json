{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/NewQuestion.vue","mtime":1596570891813},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGxhbmd1YWdlc3NlbGVjdG9yIGZyb20gIkAvY29tcG9uZW50cy9MYW5ndWFnZVNlbGVjdG9yLnZ1ZSI7CmltcG9ydCB7IGdldEF1dGhUb2tlbiwgZ2V0SWRUb2tlbiwgYWxlcnRGdW5jdGlvbiB9IGZyb20gIi4uL3V0aWxzL2hlbHBlcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5ld1F1ZXN0aW9uIiwKICBjb21wb25lbnRzOiB7CiAgICBsYW5ndWFnZXNzZWxlY3RvcjogbGFuZ3VhZ2Vzc2VsZWN0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL3ZhcmlhYmxlcyBkZSB2aXN0YQogICAgICB0aXRsZTogIiIsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBsYW5ndWFnZTogIiIsCiAgICAgIC8vdmFyaWFibGVzIGRlIGdlc3Rpb24gZGUgZXJyb3JlcwogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAvL3ZhcmlhbGVzIGRlIGNvbXBvbmVudGVzCiAgICAgIGxhbmd1YWdlczogW10sCiAgICAgIC8vVE9LRU4KICAgICAgdG9rZW46IGdldEF1dGhUb2tlbigpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy9UUkFFUiBMT1MgTEVOR1VBR0VTIERFIExBIEJCREQKICAgIGdldExhbmd1YWdlczogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sYW5ndWFnZXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubGFuZ3VhZ2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vVFJBRVIgRUwgTEVOR1VBR0UgRVNDT0dJRE8gREVMIENPTVBPTkVOVEUvU0VMRUNUIExFTkdVQUpFUwogICAgZ2V0Q29tcG9uZW50TGFuZ3VhZ2U6IGZ1bmN0aW9uIGdldENvbXBvbmVudExhbmd1YWdlKGxhbmd1YWdlSWQpIHsKICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlSWQ7CiAgICB9LAogICAgLy9QVUJMSUNBUiBMQSBSRVNQVUVTVEEKICAgIHBvc3RRdWVzdGlvbjogZnVuY3Rpb24gcG9zdFF1ZXN0aW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkYXRhLCBjb25maWcsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvL1JFQ09KTyBMT1MgREFUT1MgUEFSQSBFTlZJQVIgRU4gRUwgQk9EWQogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMi50aXRsZSwKICAgICAgICAgICAgICAgICAgY29udGVudDogX3RoaXMyLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpczIubGFuZ3VhZ2UKICAgICAgICAgICAgICAgIH07IC8vQ09ORklHVVJPIEVMIE9CSkVUTyBERSBDT05GSUdVUkFDSU9OCgogICAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogX3RoaXMyLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07IC8vQ09NUFJVRUJPIFFVRSBMT1MgREFUT1MgTk9FIFNURU4gVkFDSU9TCgogICAgICAgICAgICAgICAgaWYgKCEoZGF0YS50aXRsZSA9PT0gIiIgfHwgZGF0YS5jb250ZW50ID09PSAiIiB8fCBkYXRhLmxhbmd1YWdlID09PSAiIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhbGVydEZ1bmN0aW9uKCJ3YXJuaW5nIiwgIkNhbXBvcyBWYWPDrW9zIiwgIkRlYmVzIGxsZW5hciB0b2RvcyBsb3MgY2FtcG9zIHBhcmEgcHVibGljYXIgdHUgcHJlZ3VudGEiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9uZXctcXVlc3Rpb24iLCBkYXRhLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgLy9BTEVSVCBERSBDUkVBQ0lPTiBERSBQUkVHVU5UQQogICAgICAgICAgICAgICAgYWxlcnRGdW5jdGlvbigic3VjY2VzcyIsICJQcmVndW50YSBwdWJsaWNhZGEiLCAiU2UgaGEgcHVibGljYWRvIHR1IHByZWd1bnRhIGV4aXRvc2FtZW50ZS4iKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvbWlzLXByZWd1bnRhcyIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvck1lc3NhZ2UgPSBfY29udGV4dDIudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzYsIDE0XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExhbmd1YWdlcygpOwogIH0KfTs="},{"version":3,"sources":["NewQuestion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAiBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,iBAAA,MAAA,mCAAA;AAEA,SAAA,YAAA,EAAA,UAAA,EAAA,aAAA,QAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA;AACA,MAAA,SAAA,EAAA,KANA;AAOA,MAAA,YAAA,EAAA,EAPA;AAQA;AACA,MAAA,SAAA,EAAA,EATA;AAUA;AACA,MAAA,KAAA,EAAA,YAAA;AAXA,KAAA;AAaA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,YAFA,0BAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,CAAA,iCAAA,CAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAMA,gBAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAXA;AAYA;AACA,IAAA,oBAbA,gCAaA,UAbA,EAaA;AACA,WAAA,QAAA,GAAA,UAAA;AACA,KAfA;AAgBA;AACA,IAAA,YAjBA,0BAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,IAFA,GAEA;AACA,kBAAA,KAAA,EAAA,MAAA,CAAA,KADA;AAEA,kBAAA,OAAA,EAAA,MAAA,CAAA,OAFA;AAGA,kBAAA,QAAA,EAAA,MAAA,CAAA;AAHA,iBAFA,EAOA;;AACA,gBAAA,MARA,GAQA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,EAAA,MAAA,CAAA;AADA;AADA,iBARA,EAaA;;AAbA,sBAcA,IAAA,CAAA,KAAA,KAAA,EAAA,IAAA,IAAA,CAAA,OAAA,KAAA,EAAA,IAAA,IAAA,CAAA,QAAA,KAAA,EAdA;AAAA;AAAA;AAAA;;AAeA,gBAAA,aAAA,CACA,SADA,EAEA,eAFA,EAGA,yDAHA,CAAA;AAfA;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAsBA,KAAA,CAAA,IAAA,CACA,oCADA,EAEA,IAFA,EAGA,MAHA,CAtBA;;AAAA;AAsBA,gBAAA,QAtBA;AA2BA;AACA,gBAAA,aAAA,CACA,SADA,EAEA,oBAFA,EAGA,2CAHA,CAAA;;AAKA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,gBAAA;;AAjCA;AAAA;;AAAA;AAAA;AAAA;AAmCA,gBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AACA,gBAAA,MAAA,CAAA,YAAA,GAAA,aAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AApCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCA;AAxDA,GApBA;AA8EA,EAAA,OA9EA,qBA8EA;AACA,SAAA,YAAA;AACA;AAhFA,CAAA","sourcesContent":["<template>\n  <div>\n    <div>\n      <h3>TITULO:</h3>\n      <input type=\"text\" placeholder=\"Este es el título de tu pregunta..\" v-model=\"title\" />\n      <languagesselector :languages=\"languages\" v-on:languageId=\"getComponentLanguage\" />\n      <h3>Escribe tu pregunta:</h3>\n      <textarea name=\"textQuestion\" rows=\"4\" placeholder=\"Haz tu pregunta...\" v-model=\"content\"></textarea>\n      <p v-show=\"showError\">{{ errorMessage }}</p>\n\n      <button @click=\"postQuestion()\">Publicar</button>\n      <button class=\"cancelButton\" @click=\"postQuestion()\">Cancelar</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport languagesselector from \"@/components/LanguageSelector.vue\";\n\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nexport default {\n  name: \"NewQuestion\",\n  components: {\n    languagesselector,\n  },\n  data() {\n    return {\n      //variables de vista\n      title: \"\",\n      content: \"\",\n      language: \"\",\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //variales de componentes\n      languages: [],\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    //TRAER LOS LENGUAGES DE LA BBDD\n    async getLanguages() {\n      try {\n        const response = await axios.get(\"http://localhost:3000/languages\");\n        this.languages = response.data.data;\n        console.log(response);\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    //TRAER EL LENGUAGE ESCOGIDO DEL COMPONENTE/SELECT LENGUAJES\n    getComponentLanguage(languageId) {\n      this.language = languageId;\n    },\n    //PUBLICAR LA RESPUESTA\n    async postQuestion() {\n      //RECOJO LOS DATOS PARA ENVIAR EN EL BODY\n      let data = {\n        title: this.title,\n        content: this.content,\n        language: this.language,\n      };\n      //CONFIGURO EL OBJETO DE CONFIGURACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n        },\n      };\n      //COMPRUEBO QUE LOS DATOS NOE STEN VACIOS\n      if (data.title === \"\" || data.content === \"\" || data.language === \"\") {\n        alertFunction(\n          \"warning\",\n          \"Campos Vacíos\",\n          \"Debes llenar todos los campos para publicar tu pregunta\"\n        );\n      } else {\n        try {\n          const response = await axios.post(\n            \"http://localhost:3000/new-question\",\n            data,\n            config\n          );\n          //ALERT DE CREACION DE PREGUNTA\n          alertFunction(\n            \"success\",\n            \"Pregunta publicada\",\n            \"Se ha publicado tu pregunta exitosamente.\"\n          );\n          this.$router.push(\"/mis-preguntas\");\n        } catch (error) {\n          this.showError = true;\n          this.errorMessage = error.response.data.message;\n        }\n      }\n    },\n  },\n  created() {\n    this.getLanguages();\n  },\n};\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/views"}]}