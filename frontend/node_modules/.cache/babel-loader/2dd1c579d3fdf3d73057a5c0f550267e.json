{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/api/api.js","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/api/api.js","mtime":1598305428766},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGp3dCBmcm9tICJqd3QtZGVjb2RlIjsKZXhwb3J0IHZhciBFTkRQT0lOVCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZW1haWwsIHBhc3N3b3JkKSB7CiAgICAgIHZhciByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcXVpbGxlZ28iKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChFTkRQT0lOVCArICIvdXNlcnMvbG9naW4iLCB7CiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgIHRoaXMuc2V0QXV0aFRva2VuKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCAxMF1dKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBsb2dpbihfeCwgX3gyKSB7CiAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbG9naW47CiAgfSgpLAogIHNldEF1dGhUb2tlbjogZnVuY3Rpb24gc2V0QXV0aFRva2VuKHRva2VuKSB7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQVVUSF9UT0tFTl9LRVQiLCB0b2tlbik7CiAgfSwKICBnZXRBdXRoVG9rZW46IGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpIHsKICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiQVVUSF9UT0tFTl9LRVQiKTsKICB9LAogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhlbmNvZGVkVG9rZW4pIHsKICAgIHZhciB0b2tlbiA9IGp3dChlbmNvZGVkVG9rZW4pOwoKICAgIGlmICghdG9rZW4uaWQgJiYgIXRva2VuLnJvbGUpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiB0b2tlbi5pZCwKICAgICAgICByb2xlOiB0b2tlbi5yb2xlCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/api/api.js"],"names":["axios","jwt","ENDPOINT","login","email","password","console","log","post","response","setAuthToken","data","token","defaults","headers","common","localStorage","setItem","getAuthToken","getItem","getUserInfo","encodedToken","id","role"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AAEA,OAAO,IAAMC,QAAQ,GAAG,uBAAjB;AAEP,eAAe;AACbC,EAAAA,KAAK;AAAA,yEAAE,iBAAeC,KAAf,EAAsBC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHC,cAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAFG;AAAA,qBAIoBP,KAAK,CAACQ,IAAN,CAAWN,QAAQ,GAAG,cAAtB,EAAsC;AAC3DE,gBAAAA,KAAK,EAALA,KAD2D;AAE3DC,gBAAAA,QAAQ,EAARA;AAF2D,eAAtC,CAJpB;;AAAA;AAIGI,cAAAA,QAJH;AAQHH,cAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACA,mBAAKC,YAAL,CAAkBD,QAAQ,CAACE,IAAT,CAAcA,IAAhC;AATG,+CAUIF,QAAQ,CAACE,IAAT,CAAcA,IAVlB;;AAAA;AAAA;AAAA;AAAA,+CAYI,YAAMF,QAZV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADQ;AAiBbC,EAAAA,YAAY,EAAE,sBAASE,KAAT,EAAgB;AAC5BZ,IAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DH,KAA3D;AACAI,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCL,KAAvC;AACD,GApBY;AAsBbM,EAAAA,YAAY,EAAE,wBAAM;AAClB,WAAOF,YAAY,CAACG,OAAb,CAAqB,gBAArB,CAAP;AACD,GAxBY;AAyBbC,EAAAA,WAAW,EAAE,qBAACC,YAAD,EAAkB;AAC7B,QAAIT,KAAK,GAAGX,GAAG,CAACoB,YAAD,CAAf;;AAEA,QAAI,CAACT,KAAK,CAACU,EAAP,IAAa,CAACV,KAAK,CAACW,IAAxB,EAA8B;AAC5B,aAAO,IAAP;AACD,KAFD,MAEO;AACL,aAAO;AACLD,QAAAA,EAAE,EAAEV,KAAK,CAACU,EADL;AAELC,QAAAA,IAAI,EAAEX,KAAK,CAACW;AAFP,OAAP;AAID;AACF;AApCY,CAAf","sourcesContent":["import axios from \"axios\";\nimport jwt from \"jwt-decode\";\n\nexport const ENDPOINT = \"http://localhost:3000\";\n\nexport default {\n  login: async function(email, password) {\n    try {\n      console.log(\"aquillego\");\n\n      const response = await axios.post(ENDPOINT + \"/users/login\", {\n        email,\n        password,\n      });\n      console.log(response);\n      this.setAuthToken(response.data.data);\n      return response.data.data;\n    } catch (error) {\n      return error.response;\n    }\n  },\n\n  setAuthToken: function(token) {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    localStorage.setItem(\"AUTH_TOKEN_KET\", token);\n  },\n\n  getAuthToken: () => {\n    return localStorage.getItem(\"AUTH_TOKEN_KET\");\n  },\n  getUserInfo: (encodedToken) => {\n    let token = jwt(encodedToken);\n\n    if (!token.id && !token.role) {\n      return null;\n    } else {\n      return {\n        id: token.id,\n        role: token.role,\n      };\n    }\n  },\n};\n"]}]}