{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","mtime":1596560134739},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGp3dCBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCnZhciBTd2FsID0gcmVxdWlyZSgic3dlZXRhbGVydDIiKTsKCnZhciBFTkRQT0lOVCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAiOwpleHBvcnQgZnVuY3Rpb24gbG9naW4oX3gsIF94MikgewogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfSAvL0dVQVJEQVIgRUwgTE9DQUxTVE9SQUdFIEVMIEpTT05XRUJUT0tFTgovL0JlYXJlciBwb3JhZG9yIGRlbCB0b2tlbgoKZnVuY3Rpb24gX2xvZ2luKCkgewogIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShlbWFpbCwgcGFzc3dvcmQpIHsKICAgIHZhciBkYXRhLCByZXNwb25zZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoRU5EUE9JTlQsICIvdXNlcnMvbG9naW4iKSwgZGF0YSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHNldEF1dGhUb2tlbihyZXNwb25zZS5kYXRhLmRhdGEpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gc2V0QXV0aFRva2VuKHRva2VuKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBVVRIX1RPS0VOX0tFVCIsIHRva2VuKTsKfSAvL1JFQ1VQRVJBUiBFTCAgVE9LRU4gREVMIExPQ0FMU1RPUkFHRQoKZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFVVEhfVE9LRU5fS0VUIik7Cn0gLy9TQUNBUiBMQSBGRUNIQSBERSBDQURVQ0lEQUQgREUgVE9LRU4KCmV4cG9ydCBmdW5jdGlvbiB0b2tlbkRhdGEoZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICghdG9rZW4uZXhwKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBkYXRlID0gbmV3IERhdGUoMCk7CiAgZGF0ZS5zZXRVVENTZWNvbmRzKHRva2VuLmV4cCk7CiAgcmV0dXJuIGRhdGU7Cn0gLy9TQUNBUiBJRCBUT0tFTgoKZXhwb3J0IGZ1bmN0aW9uIGdldElkVG9rZW4oZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICh0b2tlbi5pZCkgewogICAgcmV0dXJuIHRva2VuLmlkOwogIH0gZWxzZSB7CiAgICByZXR1cm4gbnVsbDsKICB9Cn0gLy9DT01QUlVFQkEgU0kgRUwgVE9LRU4gRVMgVkFMSURPCgpleHBvcnQgZnVuY3Rpb24gdG9rZW5WYWxpZGF0aW9uKHRva2VuKSB7CiAgdmFyIGV4cGlyYXRpb25EYXRlID0gdG9rZW5EYXRhKHRva2VuKTsKICByZXR1cm4gZXhwaXJhdGlvbkRhdGUgPCBuZXcgRGF0ZSgpOwp9IC8vQ09NUFJPQkFSIFNJIExBIFBFUlNPTkEgRVNUQSBMT0dVRUFEQQoKZXhwb3J0IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgdmFyIGF1dGhUb2tlbiA9IGdldEF1dGhUb2tlbigpOwogIHJldHVybiAhIWF1dGhUb2tlbiAmJiAhdG9rZW5EYXRhKGF1dGhUb2tlbik7Cn0gLy9MT0dPVVQKCmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJBVVRIX1RPS0VOX0tFVCIpOwp9IC8vRlVOQ0lPTiBERSBBTEVSVAoKZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0RnVuY3Rpb24oaWNvbiwgdGl0bGUsIHRleHQpIHsKICBTd2FsLmZpcmUoewogICAgaWNvbjogaWNvbiwKICAgIHRpdGxlOiB0aXRsZSwKICAgIHRleHQ6IHRleHQKICB9KTsKfQ=="},{"version":3,"sources":["/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js"],"names":["jwt","axios","Swal","require","ENDPOINT","login","email","password","data","post","response","setAuthToken","token","defaults","headers","common","localStorage","setItem","getAuthToken","getItem","tokenData","encodedToken","exp","date","Date","setUTCSeconds","getIdToken","id","tokenValidation","expirationDate","isLoggedIn","authToken","logout","removeItem","alertFunction","icon","title","text","fire"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,IAAMC,IAAI,GAAGC,OAAO,CAAC,aAAD,CAApB;;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAEA,gBAAsBC,KAAtB;AAAA;AAAA,C,CASA;AACA;;;mEAVO,iBAAqBC,KAArB,EAA4BC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AACDC,YAAAA,IADC,GACM;AACTF,cAAAA,KAAK,EAALA,KADS;AAETC,cAAAA,QAAQ,EAARA;AAFS,aADN;AAAA;AAAA,mBAKkBN,KAAK,CAACQ,IAAN,WAAcL,QAAd,mBAAsCI,IAAtC,CALlB;;AAAA;AAKCE,YAAAA,QALD;AAMLC,YAAAA,YAAY,CAACD,QAAQ,CAACF,IAAT,CAAcA,IAAf,CAAZ;;AANK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAWP,OAAO,SAASG,YAAT,CAAsBC,KAAtB,EAA6B;AAClCX,EAAAA,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DH,KAA3D;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCL,KAAvC;AACD,C,CAED;;AACA,OAAO,SAASM,YAAT,GAAwB;AAC7B,SAAOF,YAAY,CAACG,OAAb,CAAqB,gBAArB,CAAP;AACD,C,CAED;;AACA,OAAO,SAASC,SAAT,CAAmBC,YAAnB,EAAiC;AACtC,MAAIT,KAAK,GAAGZ,GAAG,CAACqB,YAAD,CAAf;;AACA,MAAI,CAACT,KAAK,CAACU,GAAX,EAAgB;AACd,WAAO,IAAP;AACD;;AACD,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,CAAX;AACAD,EAAAA,IAAI,CAACE,aAAL,CAAmBb,KAAK,CAACU,GAAzB;AACA,SAAOC,IAAP;AACD,C,CAED;;AACA,OAAO,SAASG,UAAT,CAAoBL,YAApB,EAAkC;AACvC,MAAIT,KAAK,GAAGZ,GAAG,CAACqB,YAAD,CAAf;;AACA,MAAIT,KAAK,CAACe,EAAV,EAAc;AACZ,WAAOf,KAAK,CAACe,EAAb;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF,C,CAED;;AACA,OAAO,SAASC,eAAT,CAAyBhB,KAAzB,EAAgC;AACrC,MAAIiB,cAAc,GAAGT,SAAS,CAACR,KAAD,CAA9B;AACA,SAAOiB,cAAc,GAAG,IAAIL,IAAJ,EAAxB;AACD,C,CAED;;AACA,OAAO,SAASM,UAAT,GAAsB;AAC3B,MAAIC,SAAS,GAAGb,YAAY,EAA5B;AACA,SAAO,CAAC,CAACa,SAAF,IAAe,CAACX,SAAS,CAACW,SAAD,CAAhC;AACD,C,CAED;;AACA,OAAO,SAASC,MAAT,GAAkB;AACvB/B,EAAAA,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACAC,EAAAA,YAAY,CAACiB,UAAb,CAAwB,gBAAxB;AACD,C,CAED;;AACA,OAAO,SAASC,aAAT,CAAuBC,IAAvB,EAA6BC,KAA7B,EAAoCC,IAApC,EAA0C;AAC/CnC,EAAAA,IAAI,CAACoC,IAAL,CAAU;AACRH,IAAAA,IAAI,EAAEA,IADE;AAERC,IAAAA,KAAK,EAAEA,KAFC;AAGRC,IAAAA,IAAI,EAAEA;AAHE,GAAV;AAKD","sourcesContent":["import jwt from \"jwt-decode\";\nimport axios from \"axios\";\nconst Swal = require(\"sweetalert2\");\n\nconst ENDPOINT = \"http://localhost:3000\";\n\nexport async function login(email, password) {\n  let data = {\n    email,\n    password,\n  };\n  const response = await axios.post(`${ENDPOINT}/users/login`, data);\n  setAuthToken(response.data.data);\n}\n\n//GUARDAR EL LOCALSTORAGE EL JSONWEBTOKEN\n//Bearer porador del token\nexport function setAuthToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  localStorage.setItem(\"AUTH_TOKEN_KET\", token);\n}\n\n//RECUPERAR EL  TOKEN DEL LOCALSTORAGE\nexport function getAuthToken() {\n  return localStorage.getItem(\"AUTH_TOKEN_KET\");\n}\n\n//SACAR LA FECHA DE CADUCIDAD DE TOKEN\nexport function tokenData(encodedToken) {\n  let token = jwt(encodedToken);\n  if (!token.exp) {\n    return null;\n  }\n  let date = new Date(0);\n  date.setUTCSeconds(token.exp);\n  return date;\n}\n\n//SACAR ID TOKEN\nexport function getIdToken(encodedToken) {\n  let token = jwt(encodedToken);\n  if (token.id) {\n    return token.id;\n  } else {\n    return null;\n  }\n}\n\n//COMPRUEBA SI EL TOKEN ES VALIDO\nexport function tokenValidation(token) {\n  let expirationDate = tokenData(token);\n  return expirationDate < new Date();\n}\n\n//COMPROBAR SI LA PERSONA ESTA LOGUEADA\nexport function isLoggedIn() {\n  let authToken = getAuthToken();\n  return !!authToken && !tokenData(authToken);\n}\n\n//LOGOUT\nexport function logout() {\n  axios.defaults.headers.common[\"Authorization\"] = \"\";\n  localStorage.removeItem(\"AUTH_TOKEN_KET\");\n}\n\n//FUNCION DE ALERT\nexport function alertFunction(icon, title, text) {\n  Swal.fire({\n    icon: icon,\n    title: title,\n    text: text,\n  });\n}\n"]}]}