{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","mtime":1596312693063},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dCBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIEVORFBPSU5UID0gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCI7CmV4cG9ydCBmdW5jdGlvbiBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHsKICB0cnkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICB9OwogICAgYXhpb3MucG9zdCgiIi5jb25jYXQoRU5EUE9JTlQsICIvdXNlcnMvbG9naW4iKSwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgc2V0QXV0aFRva2VuKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgfQp9IC8vR1VBUkRBUiBFTCBMT0NBTFNUT1JBR0UgRUwgSlNPTldFQlRPS0VOCi8vQmVhcmVyIHBvcmFkb3IgZGVsIHRva2VuCgpleHBvcnQgZnVuY3Rpb24gc2V0QXV0aFRva2VuKHRva2VuKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJBVVRIX1RPS0VOX0tFVCIsIHRva2VuKTsKfSAvL1JFQ1VQRVJBUiBFTCAgVE9LRU4gREVMIExPQ0FMU1RPUkFHRQoKZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFVVEhfVE9LRU5fS0VUIik7Cn0gLy9TQUNBUiBMQSBGRUNIQSBERSBDQURVQ0lEQUQgREUgVE9LRU4KCmV4cG9ydCBmdW5jdGlvbiB0b2tlbkRhdGEoZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICghdG9rZW4uZXhwKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBkYXRlID0gbmV3IERhdGUoMCk7CiAgZGF0ZS5zZXRVVENTZWNvbmRzKHRva2VuLmV4cCk7CiAgcmV0dXJuIGRhdGU7Cn0gLy9TQUNBUiBJRCBUT0tFTgoKZXhwb3J0IGZ1bmN0aW9uIGdldElkVG9rZW4oZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICh0b2tlbi5pZCkgewogICAgcmV0dXJuIHRva2VuLmlkOwogIH0gZWxzZSB7CiAgICByZXR1cm4gbnVsbDsKICB9Cn0gLy9DT01QUlVFQkEgU0kgRUwgVE9LRU4gRVMgVkFMSURPCgpleHBvcnQgZnVuY3Rpb24gdG9rZW5WYWxpZGF0aW9uKHRva2VuKSB7CiAgdmFyIGV4cGlyYXRpb25EYXRlID0gdG9rZW5EYXRhKHRva2VuKTsKICByZXR1cm4gZXhwaXJhdGlvbkRhdGUgPCBuZXcgRGF0ZSgpOwp9IC8vQ09NUFJPQkFSIFNJIExBIFBFUlNPTkEgRVNUQSBMT0dVRUFEQQoKZXhwb3J0IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgdmFyIGF1dGhUb2tlbiA9IGdldEF1dGhUb2tlbigpOwogIHJldHVybiAhIWF1dGhUb2tlbiAmJiAhdG9rZW5EYXRhKGF1dGhUb2tlbik7Cn0gLy9MT0dPVVQKCmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJBVVRIX1RPS0VOX0tFVCIpOwp9"},{"version":3,"sources":["/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js"],"names":["jwt","axios","ENDPOINT","login","email","password","data","post","then","response","setAuthToken","error","console","token","defaults","headers","common","localStorage","setItem","getAuthToken","getItem","tokenData","encodedToken","exp","date","Date","setUTCSeconds","getIdToken","id","tokenValidation","expirationDate","isLoggedIn","authToken","logout","removeItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAAgC;AACrC,MAAI;AACF,QAAIC,IAAI,GAAG;AACTF,MAAAA,KAAK,EAALA,KADS;AAETC,MAAAA,QAAQ,EAARA;AAFS,KAAX;AAIAJ,IAAAA,KAAK,CAACM,IAAN,WAAcL,QAAd,mBAAsCI,IAAtC,EAA4CE,IAA5C,CAAiD,UAASC,QAAT,EAAmB;AAClEC,MAAAA,YAAY,CAACD,QAAQ,CAACH,IAAT,CAAcA,IAAf,CAAZ;AACD,KAFD;AAGD,GARD,CAQE,OAAOK,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,C,CAED;AACA;;AACA,OAAO,SAASD,YAAT,CAAsBG,KAAtB,EAA6B;AAClCZ,EAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DH,KAA3D;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCL,KAAvC;AACD,C,CAED;;AACA,OAAO,SAASM,YAAT,GAAwB;AAC7B,SAAOF,YAAY,CAACG,OAAb,CAAqB,gBAArB,CAAP;AACD,C,CAED;;AACA,OAAO,SAASC,SAAT,CAAmBC,YAAnB,EAAiC;AACtC,MAAIT,KAAK,GAAGb,GAAG,CAACsB,YAAD,CAAf;;AACA,MAAI,CAACT,KAAK,CAACU,GAAX,EAAgB;AACd,WAAO,IAAP;AACD;;AACD,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,CAAX;AACAD,EAAAA,IAAI,CAACE,aAAL,CAAmBb,KAAK,CAACU,GAAzB;AACA,SAAOC,IAAP;AACD,C,CAED;;AACA,OAAO,SAASG,UAAT,CAAoBL,YAApB,EAAkC;AACvC,MAAIT,KAAK,GAAGb,GAAG,CAACsB,YAAD,CAAf;;AACA,MAAIT,KAAK,CAACe,EAAV,EAAc;AACZ,WAAOf,KAAK,CAACe,EAAb;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF,C,CAED;;AACA,OAAO,SAASC,eAAT,CAAyBhB,KAAzB,EAAgC;AACrC,MAAIiB,cAAc,GAAGT,SAAS,CAACR,KAAD,CAA9B;AACA,SAAOiB,cAAc,GAAG,IAAIL,IAAJ,EAAxB;AACD,C,CAED;;AACA,OAAO,SAASM,UAAT,GAAsB;AAC3B,MAAIC,SAAS,GAAGb,YAAY,EAA5B;AACA,SAAO,CAAC,CAACa,SAAF,IAAe,CAACX,SAAS,CAACW,SAAD,CAAhC;AACD,C,CAED;;AACA,OAAO,SAASC,MAAT,GAAkB;AACvBhC,EAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACAC,EAAAA,YAAY,CAACiB,UAAb,CAAwB,gBAAxB;AACD","sourcesContent":["import jwt from \"jwt-decode\";\nimport axios from \"axios\";\n\nconst ENDPOINT = \"http://localhost:3000\";\n\nexport function login(email, password) {\n  try {\n    let data = {\n      email,\n      password,\n    };\n    axios.post(`${ENDPOINT}/users/login`, data).then(function(response) {\n      setAuthToken(response.data.data);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n//GUARDAR EL LOCALSTORAGE EL JSONWEBTOKEN\n//Bearer porador del token\nexport function setAuthToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  localStorage.setItem(\"AUTH_TOKEN_KET\", token);\n}\n\n//RECUPERAR EL  TOKEN DEL LOCALSTORAGE\nexport function getAuthToken() {\n  return localStorage.getItem(\"AUTH_TOKEN_KET\");\n}\n\n//SACAR LA FECHA DE CADUCIDAD DE TOKEN\nexport function tokenData(encodedToken) {\n  let token = jwt(encodedToken);\n  if (!token.exp) {\n    return null;\n  }\n  let date = new Date(0);\n  date.setUTCSeconds(token.exp);\n  return date;\n}\n\n//SACAR ID TOKEN\nexport function getIdToken(encodedToken) {\n  let token = jwt(encodedToken);\n  if (token.id) {\n    return token.id;\n  } else {\n    return null;\n  }\n}\n\n//COMPRUEBA SI EL TOKEN ES VALIDO\nexport function tokenValidation(token) {\n  let expirationDate = tokenData(token);\n  return expirationDate < new Date();\n}\n\n//COMPROBAR SI LA PERSONA ESTA LOGUEADA\nexport function isLoggedIn() {\n  let authToken = getAuthToken();\n  return !!authToken && !tokenData(authToken);\n}\n\n//LOGOUT\nexport function logout() {\n  axios.defaults.headers.common[\"Authorization\"] = \"\";\n  localStorage.removeItem(\"AUTH_TOKEN_KET\");\n}\n"]}]}