{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue","mtime":1596571633923},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3BhdHJpY2lhL2hhY2thYm9zcy9QUk9ZRUNUTy9mcm9udGVuZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CmltcG9ydCB1c2VycHJvZmlsZSBmcm9tICJAL2NvbXBvbmVudHMvVXNlclByb2ZpbGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9maWxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZmlsZToge30sCiAgICAgIC8vdmFyaWFibGVzIGRlIGdlc3Rpb24gZGUgZXJyb3JlcwogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHVzZXJwcm9maWxlOiB1c2VycHJvZmlsZQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlVXNlckRhdGE6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJEYXRhKHVzZXJEYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhLCBjb25maWcsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vREFUT1MgREVMIFVTVUFSSU8KICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogdXNlckRhdGEubGFzdG5hbWUsCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyRGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLAogICAgICAgICAgICAgICAgICBwcm9maWxlX2JpbzogdXNlckRhdGEucHJvZmlsZQogICAgICAgICAgICAgICAgfTsgLy9DQUJFQ0VEQSBERSBVQVRPUklaQUNJT04KCiAgICAgICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBfdGhpcy50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9lZGl0LXByb2ZpbGUvIiArIHVzZXJEYXRhLmlkLCBkYXRhLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvL0FMRVJUIERFIEVESVRBUgogICAgICAgICAgICAgICAgYWxlcnRGdW5jdGlvbigic3VjY2VzcyIsICJBY3R1YWxpemFkbyIsICJIYXMgZWRpdGFkbyBsb3MgZGF0b3MgZGUgIi5jb25jYXQoZGF0YS51c2VybmFtZSwgIiBleGl0b3NhbWVudGUiKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9UUkFJR08gTEEgSU5GTyBERUwgUEVSRklMIERFIFVTVUFSSU8gREUgTEEgQkJERAogICAgZ2V0VXNlclByb2ZpbGU6IGZ1bmN0aW9uIGdldFVzZXJQcm9maWxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb25maWcsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvL0NBQkVDRVJBIERFIEFVVE9SSVpBQ0lPTgogICAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogX3RoaXMyLnRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMvcHJvZmlsZS8iICsgZ2V0SWRUb2tlbihfdGhpczIudG9rZW4pLCBjb25maWcpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnByb2ZpbGUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIF90aGlzMi5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJQcm9maWxlKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;AAQA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,SAAA,YAAA,EAAA,UAAA,EAAA,aAAA,QAAA,kBAAA;AAEA,OAAA,WAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA;AACA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA;AACA,MAAA,KAAA,EAAA,YAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAZA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,QADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,IAFA,GAEA;AACA,kBAAA,IAAA,EAAA,QAAA,CAAA,IADA;AAEA,kBAAA,SAAA,EAAA,QAAA,CAAA,QAFA;AAGA,kBAAA,QAAA,EAAA,QAAA,CAAA,QAHA;AAIA,kBAAA,KAAA,EAAA,QAAA,CAAA,KAJA;AAKA,kBAAA,WAAA,EAAA,QAAA,CAAA;AALA,iBAFA,EASA;;AACA,gBAAA,MAVA,GAUA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,EAAA,KAAA,CAAA;AADA;AADA,iBAVA;AAAA;AAAA;AAAA,uBAiBA,KAAA,CAAA,GAAA,CACA,8CAAA,QAAA,CAAA,EADA,EAEA,IAFA,EAGA,MAHA,CAjBA;;AAAA;AAiBA,gBAAA,QAjBA;AAsBA;AACA,gBAAA,aAAA,CACA,SADA,EAEA,aAFA,qCAGA,IAAA,CAAA,QAHA,mBAAA;AAvBA;AAAA;;AAAA;AAAA;AAAA;AA6BA,gBAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCA,KAjCA;AAkCA;AACA,IAAA,cAnCA,4BAmCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,MAFA,GAEA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,EAAA,MAAA,CAAA;AADA;AADA,iBAFA;AAAA;AAAA;AAAA,uBASA,KAAA,CAAA,GAAA,CACA,yCAAA,UAAA,CAAA,MAAA,CAAA,KAAA,CADA,EAEA,MAFA,CATA;;AAAA;AASA,gBAAA,QATA;AAaA,gBAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AAbA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AACA,gBAAA,MAAA,CAAA,YAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AArDA,GAhBA;AAuEA,EAAA,OAvEA,qBAuEA;AACA,SAAA,cAAA;AACA;AAzEA,CAAA","sourcesContent":["<template>\n  <div>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <userprofile v-on:iduserupdate=\"updateUserData\" :userdata=\"profile\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nimport userprofile from \"@/components/UserProfile.vue\";\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      profile: {},\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  components: {\n    userprofile,\n  },\n\n  methods: {\n    async updateUserData(userData) {\n      //DATOS DEL USUARIO\n      let data = {\n        name: userData.name,\n        last_name: userData.lastname,\n        username: userData.username,\n        email: userData.email,\n        profile_bio: userData.profile,\n      };\n      //CABECEDA DE UATORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n        },\n      };\n\n      try {\n        const response = await axios.put(\n          \"http://localhost:3000/users/edit-profile/\" + userData.id,\n          data,\n          config\n        );\n        //ALERT DE EDITAR\n        alertFunction(\n          \"success\",\n          \"Actualizado\",\n          `Has editado los datos de ${data.username} exitosamente`\n        );\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error.response.data.message;\n      }\n    },\n    //TRAIGO LA INFO DEL PERFIL DE USUARIO DE LA BBDD\n    async getUserProfile() {\n      //CABECERA DE AUTORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n        },\n      };\n\n      try {\n        const response = await axios.get(\n          \"http://localhost:3000/users/profile/\" + getIdToken(this.token),\n          config\n        );\n        this.profile = response.data.data;\n      } catch (error) {\n        this.showError = true;\n        this.errorMessage = error;\n      }\n    },\n  },\n  created() {\n    this.getUserProfile();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views"}]}