{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/ExpertValidation.vue","mtime":1596656947081},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9wYXRyaWNpYS9oYWNrYWJvc3MvUFJPWUVDVE8vZnJvbnRlbmQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uLCBnZXRSb2xlVG9rZW4gfSBmcm9tICIuLi91dGlscy9oZWxwZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFeHBlcnRWYWxpZGF0aW9uIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy92YXJpYWJsZXMgZGUgcGV0aWNvb24gZGUgdXN1YXJpbwogICAgICBpZFVzZXJSZXF1ZXN0OiAiIiwKICAgICAgbGFuZ3VhZ2VzUmVxdWVzdDogIiIsCiAgICAgIC8vdmFyaWFibGVzIGRlIGdlc3Rpb24gZGUgZXJyb3JlcwogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICIiLAogICAgICAvL1RPS0VOCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJlcXVlc3REYXRhOiBmdW5jdGlvbiBnZXRSZXF1ZXN0RGF0YSgpIHsKICAgICAgdmFyIF93aW5kb3ckbG9jYXRpb24kaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCJpZD0iKSwKICAgICAgICAgIF93aW5kb3ckbG9jYXRpb24kaHJlZjIgPSBfc2xpY2VkVG9BcnJheShfd2luZG93JGxvY2F0aW9uJGhyZWYsIDIpLAogICAgICAgICAgdXJsID0gX3dpbmRvdyRsb2NhdGlvbiRocmVmMlsxXTsKCiAgICAgIHZhciBfdXJsJHNwbGl0ID0gdXJsLnNwbGl0KCImbGFuZz0iKSwKICAgICAgICAgIF91cmwkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3VybCRzcGxpdCwgMiksCiAgICAgICAgICB1c2VySWQgPSBfdXJsJHNwbGl0MlswXSwKICAgICAgICAgIGxhbmd1YWdlcyA9IF91cmwkc3BsaXQyWzFdOwoKICAgICAgdGhpcy5pZFVzZXJSZXF1ZXN0ID0gdXNlcklkOwogICAgICB0aGlzLmxhbmd1YWdlc1JlcXVlc3QgPSBsYW5ndWFnZXM7IC8vY29uc29sZS5sb2coZ2V0Um9sZVRva2VuKHRoaXMudG9rZW4pKTsKICAgIH0sCiAgICB2YWxpZGF0ZUV4cGVydDogZnVuY3Rpb24gdmFsaWRhdGVFeHBlcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb25maWcsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vQ0FCRUNFUkEgREUgQVVUT1JJWkFDSU9OCiAgICAgICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBfdGhpcy50b2tlbiwKICAgICAgICAgICAgICAgICAgICByb2xlOiBnZXRSb2xlVG9rZW4oX3RoaXMudG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5sYW5ndWFnZXNSZXF1ZXN0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL3ZhbGlkYXRlLWV4cGVydC8iICsgX3RoaXMuaWRVc2VyUmVxdWVzdCwgewogICAgICAgICAgICAgICAgICBsYW5ndWFnZXM6IF90aGlzLmxhbmd1YWdlc1JlcXVlc3QKICAgICAgICAgICAgICAgIH0sIGNvbmZpZyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGFsZXJ0RnVuY3Rpb24oInN1Y2Nlc3MiLCAiTnVldm8gRXhwZXJ0byIsICJIYXMgZGFkbyBkZSBhbHRhIGEgdW4gbnVldm8gZXhwZXJ0byBlbiBUdXRvclNoaXBzIik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgX3RoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSZXF1ZXN0RGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["ExpertValidation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAUA,OAAA,KAAA,MAAA,OAAA;AACA,SACA,YADA,EAEA,UAFA,EAGA,aAHA,EAIA,YAJA,QAKA,kBALA;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,gBAAA,EAAA,EAHA;AAKA;AACA,MAAA,SAAA,EAAA,KANA;AAOA,MAAA,YAAA,EAAA,EAPA;AAQA;AACA,MAAA,KAAA,EAAA,YAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA,kCACA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CADA;AAAA;AAAA,UACA,GADA;;AAAA,uBAEA,GAAA,CAAA,KAAA,CAAA,QAAA,CAFA;AAAA;AAAA,UAEA,MAFA;AAAA,UAEA,SAFA;;AAGA,WAAA,aAAA,GAAA,MAAA;AACA,WAAA,gBAAA,GAAA,SAAA,CAJA,CAKA;AACA,KAPA;AAQA,IAAA,cARA,4BAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,MAFA,GAEA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,EAAA,KAAA,CAAA,KADA;AAEA,oBAAA,IAAA,EAAA,YAAA,CAAA,KAAA,CAAA,KAAA;AAFA;AADA,iBAFA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,gBAAA;AATA;AAAA;AAAA,uBAWA,KAAA,CAAA,IAAA,CACA,iDAAA,KAAA,CAAA,aADA,EAEA;AAAA,kBAAA,SAAA,EAAA,KAAA,CAAA;AAAA,iBAFA,EAGA,MAHA,CAXA;;AAAA;AAWA,gBAAA,QAXA;AAgBA,gBAAA,aAAA,CACA,SADA,EAEA,eAFA,sDAAA;AAhBA;AAAA;;AAAA;AAAA;AAAA;AAsBA,gBAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AAEA,gBAAA,KAAA,CAAA,YAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BA;AAlCA,GAfA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,SAAA,cAAA;AACA;AArDA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>Petición de experto</h1>\n    <p>EL usuario {{idUserRequest}} solicita hacerse experto en los languages {{languagesRequest}}</p>\n    <p v-show=\"showError\">{{ errorMessage }}</p>\n    <button @click=\"validateExpert()\">SÍ! HACERLO EXPERTO</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {\n  getAuthToken,\n  getIdToken,\n  alertFunction,\n  getRoleToken,\n} from \"../utils/helpers\";\n\nexport default {\n  name: \"ExpertValidation\",\n  data() {\n    return {\n      //variables de peticoon de usuario\n      idUserRequest: \"\",\n      languagesRequest: \"\",\n\n      //variables de gestion de errores\n      showError: false,\n      errorMessage: \"\",\n      //TOKEN\n      token: getAuthToken(),\n    };\n  },\n  methods: {\n    getRequestData() {\n      let [, url] = window.location.href.split(\"id=\");\n      let [userId, languages] = url.split(\"&lang=\");\n      this.idUserRequest = userId;\n      this.languagesRequest = languages;\n      //console.log(getRoleToken(this.token));\n    },\n    async validateExpert() {\n      //CABECERA DE AUTORIZACION\n      let config = {\n        headers: {\n          Authorization: this.token,\n          role: getRoleToken(this.token),\n        },\n      };\n\n      console.log(this.languagesRequest);\n      try {\n        const response = await axios.post(\n          \"http://localhost:3000/users/validate-expert/\" + this.idUserRequest,\n          { languages: this.languagesRequest },\n          config\n        );\n        alertFunction(\n          \"success\",\n          \"Nuevo Experto\",\n          `Has dado de alta a un nuevo experto en TutorShips`\n        );\n      } catch (error) {\n        this.showError = true;\n\n        this.errorMessage = error.response.data.message;\n      }\n    },\n  },\n  created() {\n    this.getRequestData();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views"}]}