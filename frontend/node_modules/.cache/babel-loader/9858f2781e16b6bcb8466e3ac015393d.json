{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/views/Profile.vue","mtime":1596479852844},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgZ2V0QXV0aFRva2VuLCBnZXRJZFRva2VuLCBhbGVydEZ1bmN0aW9uIH0gZnJvbSAiLi4vdXRpbHMvaGVscGVycyI7CmltcG9ydCB1c2VycHJvZmlsZSBmcm9tICJAL2NvbXBvbmVudHMvVXNlclByb2ZpbGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9maWxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZmlsZToge30sCiAgICAgIHRva2VuOiBnZXRBdXRoVG9rZW4oKQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHVzZXJwcm9maWxlOiB1c2VycHJvZmlsZQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlVXNlckRhdGE6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJEYXRhKHVzZXJEYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCJEZXNkZSBsYSB2aXN0YSIsIHVzZXJEYXRhKTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvL0RBVE9TIERFTCBVU1VBUklPCgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLAogICAgICAgIGxhc3RfbmFtZTogdXNlckRhdGEubGFzdG5hbWUsCiAgICAgICAgdXNlcm5hbWU6IHVzZXJEYXRhLnVzZXJuYW1lLAogICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCwKICAgICAgICBwcm9maWxlX2JpbzogdXNlckRhdGEucHJvZmlsZQogICAgICB9OyAvL0NBQkVDRURBIERFIFVBVE9SSVpBQ0lPTgoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBzZWxmLnRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9lZGl0LXByb2ZpbGUvIiArIHVzZXJEYXRhLmlkLCBkYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7IC8vQUxFUlQgREUgRURJVEFSCgogICAgICBhbGVydEZ1bmN0aW9uKCJzdWNjZXNzIiwgIkFjdHVhbGl6YWRvIiwgIkhhcyBlZGl0YWRvIGxvcyBkYXRvcyBkZSAiLmNvbmNhdChkYXRhLnVzZXJuYW1lLCAiIGV4aXRvc2FtZW50ZSIpKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0sIDQwMDApOwogICAgfSwKICAgIC8vVFJBSUdPIExBIElORk8gREVMIFBFUkZJTCBERSBVU1VBUklPIERFIExBIEJCREQKICAgIGdldFVzZXJQcm9maWxlOiBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9wcm9maWxlLyIgKyBnZXRJZFRva2VuKHNlbGYudG9rZW4pLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogc2VsZi50b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzZWxmLnByb2ZpbGUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coc2VsZi5wcm9maWxlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlclByb2ZpbGUoKTsKICB9Cn07"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;AAOA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,SAAA,YAAA,EAAA,UAAA,EAAA,aAAA,QAAA,kBAAA;AAEA,OAAA,WAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,YAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GARA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,QADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,QAAA;AACA,UAAA,IAAA,GAAA,IAAA,CAFA,CAGA;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,IAAA,EAAA,QAAA,CAAA,IADA;AAEA,QAAA,SAAA,EAAA,QAAA,CAAA,QAFA;AAGA,QAAA,QAAA,EAAA,QAAA,CAAA,QAHA;AAIA,QAAA,KAAA,EAAA,QAAA,CAAA,KAJA;AAKA,QAAA,WAAA,EAAA,QAAA,CAAA;AALA,OAAA,CAJA,CAWA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,EAAA,IAAA,CAAA;AADA;AADA,OAAA;AAMA,MAAA,KAAA,CACA,GADA,CAEA,8CAAA,QAAA,CAAA,EAFA,EAGA,IAHA,EAIA,MAJA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OARA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAXA,EAlBA,CA8BA;;AACA,MAAA,aAAA,CACA,SADA,EAEA,aAFA,qCAGA,IAAA,CAAA,QAHA,mBAAA;AAKA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,QAAA,CAAA,MAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KAxCA;AAyCA;AACA,IAAA,cA1CA,4BA0CA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,yCAAA,UAAA,CAAA,IAAA,CAAA,KAAA,CADA,EACA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,EAAA,IAAA,CAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAZA;AAaA;AAzDA,GAZA;AAuEA,EAAA,OAvEA,qBAuEA;AACA,SAAA,cAAA;AACA;AAzEA,CAAA","sourcesContent":["<template>\n  <div>\n    <userprofile v-on:iduserupdate=\"updateUserData\" :userdata=\"profile\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { getAuthToken, getIdToken, alertFunction } from \"../utils/helpers\";\n\nimport userprofile from \"@/components/UserProfile.vue\";\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      profile: {},\n      token: getAuthToken(),\n    };\n  },\n  components: {\n    userprofile,\n  },\n\n  methods: {\n    updateUserData(userData) {\n      console.log(\"Desde la vista\", userData);\n      let self = this;\n      //DATOS DEL USUARIO\n      let data = {\n        name: userData.name,\n        last_name: userData.lastname,\n        username: userData.username,\n        email: userData.email,\n        profile_bio: userData.profile,\n      };\n      //CABECEDA DE UATORIZACION\n      let config = {\n        headers: {\n          Authorization: self.token,\n        },\n      };\n\n      axios\n        .put(\n          \"http://localhost:3000/users/edit-profile/\" + userData.id,\n          data,\n          config\n        )\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.error(error);\n        });\n      //ALERT DE EDITAR\n      alertFunction(\n        \"success\",\n        \"Actualizado\",\n        `Has editado los datos de ${data.username} exitosamente`\n      );\n      setTimeout(function () {\n        location.reload();\n      }, 4000);\n    },\n    //TRAIGO LA INFO DEL PERFIL DE USUARIO DE LA BBDD\n    getUserProfile() {\n      let self = this;\n      axios\n        .get(\"http://localhost:3000/users/profile/\" + getIdToken(self.token), {\n          headers: {\n            Authorization: self.token,\n          },\n        })\n        .then(function (response) {\n          self.profile = response.data.data;\n          console.log(self.profile);\n        })\n        .catch(function (error) {\n          console.error(error);\n        });\n    },\n  },\n  created() {\n    this.getUserProfile();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views"}]}