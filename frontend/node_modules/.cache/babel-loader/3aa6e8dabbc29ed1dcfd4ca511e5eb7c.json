{"remainingRequest":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js!/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","dependencies":[{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js","mtime":1596822453087},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/patricia/hackaboss/PROYECTO/frontend/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcGF0cmljaWEvaGFja2Fib3NzL1BST1lFQ1RPL2Zyb250ZW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGp3dCBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCnZhciBTd2FsID0gcmVxdWlyZSgic3dlZXRhbGVydDIiKTsKCmV4cG9ydCB2YXIgRU5EUE9JTlQgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwIjsKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKF94LCBfeDIpIHsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy9PQkpFVE8gQ09ORklHCgpmdW5jdGlvbiBfbG9naW4oKSB7CiAgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVtYWlsLCBwYXNzd29yZCkgewogICAgdmFyIGRhdGEsIHJlc3BvbnNlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChFTkRQT0lOVCwgIi91c2Vycy9sb2dpbiIpLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgc2V0QXV0aFRva2VuKHJlc3BvbnNlLmRhdGEuZGF0YSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCB2YXIgY29uZmlnID0gewogIGhlYWRlcnM6IHsKICAgIEF1dGhvcml6YXRpb246IGdldEF1dGhUb2tlbigpCiAgfQp9OyAvL0dVQVJEQVIgRUwgTE9DQUxTVE9SQUdFIEVMIEpTT05XRUJUT0tFTgovL0JlYXJlciBwb3JhZG9yIGRlbCB0b2tlbgoKZXhwb3J0IGZ1bmN0aW9uIHNldEF1dGhUb2tlbih0b2tlbikgewogIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIuY29uY2F0KHRva2VuKTsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQVVUSF9UT0tFTl9LRVQiLCB0b2tlbik7Cn0gLy9SRUNVUEVSQVIgRUwgIFRPS0VOIERFTCBMT0NBTFNUT1JBR0UKCmV4cG9ydCBmdW5jdGlvbiBnZXRBdXRoVG9rZW4oKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJBVVRIX1RPS0VOX0tFVCIpOwp9IC8vU0FDQVIgTEEgRkVDSEEgREUgQ0FEVUNJREFEIERFIFRPS0VOCgpleHBvcnQgZnVuY3Rpb24gdG9rZW5EYXRhKGVuY29kZWRUb2tlbikgewogIHZhciB0b2tlbiA9IGp3dChlbmNvZGVkVG9rZW4pOwoKICBpZiAoIXRva2VuLmV4cCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApOwogIGRhdGUuc2V0VVRDU2Vjb25kcyh0b2tlbi5leHApOwogIHJldHVybiBkYXRlOwp9IC8vU0FDQVIgSUQgVE9LRU4KCmV4cG9ydCBmdW5jdGlvbiBnZXRJZFRva2VuKGVuY29kZWRUb2tlbikgewogIHZhciB0b2tlbiA9IGp3dChlbmNvZGVkVG9rZW4pOwoKICBpZiAodG9rZW4uaWQpIHsKICAgIHJldHVybiB0b2tlbi5pZDsKICB9IGVsc2UgewogICAgcmV0dXJuIG51bGw7CiAgfQp9IC8vQ09NUFJPQkFSIFNJIEVTIEFETUlOSVNUUkFET1IKCmV4cG9ydCBmdW5jdGlvbiBnZXRSb2xlVG9rZW4oZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICh0b2tlbi5yb2xlKSB7CiAgICByZXR1cm4gdG9rZW4ucm9sZTsKICB9IGVsc2UgewogICAgcmV0dXJuIG51bGw7CiAgfQp9IC8vQ09NUFJVRUJBIFNJIEVMIFRPS0VOIEVTIFZBTElETwoKZXhwb3J0IGZ1bmN0aW9uIHRva2VuVmFsaWRhdGlvbih0b2tlbikgewogIHZhciBleHBpcmF0aW9uRGF0ZSA9IHRva2VuRGF0YSh0b2tlbik7CiAgcmV0dXJuIGV4cGlyYXRpb25EYXRlIDwgbmV3IERhdGUoKTsKfSAvL0NPTVBST0JBUiBTSSBMQSBQRVJTT05BIEVTVEEgTE9HVUVBREEKCmV4cG9ydCBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogIHZhciBhdXRoVG9rZW4gPSBnZXRBdXRoVG9rZW4oKTsKICByZXR1cm4gISFhdXRoVG9rZW4gJiYgIXRva2VuRGF0YShhdXRoVG9rZW4pOwp9IC8vTE9HT1VUCgpleHBvcnQgZnVuY3Rpb24gbG9nb3V0KCkgewogIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiIjsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiQVVUSF9UT0tFTl9LRVQiKTsKfSAvL0ZVTkNJT04gREUgQUxFUlQKCmV4cG9ydCBmdW5jdGlvbiBhbGVydEZ1bmN0aW9uKGljb24sIHRpdGxlLCB0ZXh0KSB7CiAgU3dhbC5maXJlKHsKICAgIGljb246IGljb24sCiAgICB0aXRsZTogdGl0bGUsCiAgICB0ZXh0OiB0ZXh0CiAgfSk7Cn0="},{"version":3,"sources":["/home/patricia/hackaboss/PROYECTO/frontend/frontend/src/utils/helpers.js"],"names":["jwt","axios","Swal","require","ENDPOINT","login","email","password","data","post","response","setAuthToken","config","headers","Authorization","getAuthToken","token","defaults","common","localStorage","setItem","getItem","tokenData","encodedToken","exp","date","Date","setUTCSeconds","getIdToken","id","getRoleToken","role","tokenValidation","expirationDate","isLoggedIn","authToken","logout","removeItem","alertFunction","icon","title","text","fire"],"mappings":"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","sourcesContent":["import jwt from \"jwt-decode\";\nimport axios from \"axios\";\nconst Swal = require(\"sweetalert2\");\n\nexport const ENDPOINT = \"http://localhost:3000\";\n\nexport async function login(email, password) {\n  let data = {\n    email,\n    password,\n  };\n  const response = await axios.post(`${ENDPOINT}/users/login`, data);\n  setAuthToken(response.data.data);\n}\n\n//OBJETO CONFIG\nexport const config = {\n  headers: {\n    Authorization: getAuthToken(),\n  },\n};\n\n//GUARDAR EL LOCALSTORAGE EL JSONWEBTOKEN\n//Bearer porador del token\nexport function setAuthToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  localStorage.setItem(\"AUTH_TOKEN_KET\", token);\n}\n\n//RECUPERAR EL  TOKEN DEL LOCALSTORAGE\nexport function getAuthToken() {\n  return localStorage.getItem(\"AUTH_TOKEN_KET\");\n}\n\n//SACAR LA FECHA DE CADUCIDAD DE TOKEN\nexport function tokenData(encodedToken) {\n  let token = jwt(encodedToken);\n  if (!token.exp) {\n    return null;\n  }\n  let date = new Date(0);\n  date.setUTCSeconds(token.exp);\n  return date;\n}\n\n//SACAR ID TOKEN\nexport function getIdToken(encodedToken) {\n  let token = jwt(encodedToken);\n  if (token.id) {\n    return token.id;\n  } else {\n    return null;\n  }\n}\n\n//COMPROBAR SI ES ADMINISTRADOR\nexport function getRoleToken(encodedToken) {\n  let token = jwt(encodedToken);\n  if (token.role) {\n    return token.role;\n  } else {\n    return null;\n  }\n}\n\n//COMPRUEBA SI EL TOKEN ES VALIDO\nexport function tokenValidation(token) {\n  let expirationDate = tokenData(token);\n  return expirationDate < new Date();\n}\n\n//COMPROBAR SI LA PERSONA ESTA LOGUEADA\nexport function isLoggedIn() {\n  let authToken = getAuthToken();\n  return !!authToken && !tokenData(authToken);\n}\n\n//LOGOUT\nexport function logout() {\n  axios.defaults.headers.common[\"Authorization\"] = \"\";\n  localStorage.removeItem(\"AUTH_TOKEN_KET\");\n}\n\n//FUNCION DE ALERT\nexport function alertFunction(icon, title, text) {\n  Swal.fire({\n    icon: icon,\n    title: title,\n    text: text,\n  });\n}\n"]}]}